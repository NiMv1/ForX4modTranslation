<?xml version="1.0" encoding="utf-8"?>
<mdscript name="kuertee_reset_mouse_config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="md.xsd">
	<cues>
		<cue name="StartSMO" instantiate="true">
			<conditions>
				<event_cue_signalled cue="md.Simple_Menu_Options.Reloaded"/>
			</conditions>
			<actions>
				<!-- <debug_text text="'signal_cue_instantly ' + @md.Simple_Menu_API.Register_Options_Menu" /> -->
				<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu"
					param="table[
						$id = 'kuertee_reset_mouse_extension_options_menu',
						$columns = 2,
						$title = {111813, 688900},
						$onOpen = BuildOptionsMenu
					]" />
				<cancel_cue cue="this" />
			</actions>
		</cue>
		<cue name="BuildOptionsMenu" instantiate="true">
			<conditions>
				<event_cue_signalled />
			</conditions>
			<actions>
				<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col=1, $text={111813, 688902}]"/>
				<signal_cue_instantly
				cue = "md.Simple_Menu_API.Make_Dropdown"
				param = "table[
					$id = 'userLocation',
					$col = 2,
					$options = [
						table[$text={1001, 8942}, $value='disabled'],
						table[$text={111813, 688903}, $value='c'],
						table[$text={111813, 688904}, $value='tl'],
						table[$text={111813, 688905}, $value='tr'],
						table[$text={111813, 688906}, $value='br'],
						table[$text={111813, 688907}, $value='bl']
					],
					$startOption = if md.kuertee_reset_mouse.ResetMouse.$userLocation == 'disabled' then 1 else (
						if md.kuertee_reset_mouse.ResetMouse.$userLocation == 'c' then 2 else (
							if md.kuertee_reset_mouse.ResetMouse.$userLocation == 'tl' then 3 else (
								if md.kuertee_reset_mouse.ResetMouse.$userLocation == 'tr' then 4 else (
									if md.kuertee_reset_mouse.ResetMouse.$userLocation == 'br' then 5 else (
										if md.kuertee_reset_mouse.ResetMouse.$userLocation == 'bl' then 6
									)
								)
							)
						)
					),
					$mouseOverText = {1001, 2661} + ': ' + {111813, 688903},
					$onDropDownConfirmed = onDropDownConfirmed
				]"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col=1, $text={111813, 688908}]"/>
				<signal_cue_instantly
				cue = "md.Simple_Menu_API.Make_Dropdown"
				param = "table[
					$id = 'userLocation_onGamepadStart',
					$col = 2,
					$options = [
						table[$text={1001, 8942}, $value='disabled'],
						table[$text={111813, 688903}, $value='c'],
						table[$text={111813, 688904}, $value='tl'],
						table[$text={111813, 688905}, $value='tr'],
						table[$text={111813, 688906}, $value='br'],
						table[$text={111813, 688907}, $value='bl']
					],
					$startOption = if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadStart == 'disabled' then 1 else (
						if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadStart == 'c' then 2 else (
							if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadStart == 'tl' then 3 else (
								if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadStart == 'tr' then 4 else (
									if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadStart == 'br' then 5 else (
										if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadStart == 'bl' then 6
									)
								)
							)
						)
					),
					$mouseOverText = {1001, 2661} + ': ' + {111813, 688907},
					$onDropDownConfirmed = onDropDownConfirmed
				]"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col=1, $text={111813, 688909}]"/>
				<signal_cue_instantly
				cue = "md.Simple_Menu_API.Make_Dropdown"
				param = "table[
					$id = 'userLocation_onGamepadEnd',
					$col = 2,
					$options = [
						table[$text={1001, 8942}, $value='disabled'],
						table[$text={111813, 688903}, $value='c'],
						table[$text={111813, 688904}, $value='tl'],
						table[$text={111813, 688905}, $value='tr'],
						table[$text={111813, 688906}, $value='br'],
						table[$text={111813, 688907}, $value='bl'],
						table[$text={111813, 688910}, $value='previous']
					],
					$startOption = if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'disabled' then 1 else (
						if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'c' then 2 else (
							if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'tl' then 3 else (
								if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'tr' then 4 else (
									if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'br' then 5 else (
										if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'bl' then 6 else (
											if md.kuertee_reset_mouse.ResetMouse.$userLocation_onGamepadEnd == 'previous' then 7
										)
									)
								)
							)
						)
					),
					$mouseOverText = {1001, 2661} + ': ' + {111813, 688903},
					$onDropDownConfirmed = onDropDownConfirmed
				]"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col=1, $text={111813, 688911}]"/>
				<signal_cue_instantly
				cue = "md.Simple_Menu_API.Make_Dropdown"
				param = "table[
					$id = 'userLocation_onAutoPilotStop',
					$col = 2,
					$options = [
						table[$text={1001, 8942}, $value='disabled'],
						table[$text={111813, 688903}, $value='c'],
						table[$text={111813, 688904}, $value='tl'],
						table[$text={111813, 688905}, $value='tr'],
						table[$text={111813, 688906}, $value='br'],
						table[$text={111813, 688907}, $value='bl'],
						table[$text={111813, 688910}, $value='previous']
					],
					$startOption = if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'disabled' then 1 else (
						if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'c' then 2 else (
							if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'tl' then 3 else (
								if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'tr' then 4 else (
									if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'br' then 5 else (
										if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'bl' then 6 else (
											if md.kuertee_reset_mouse.ResetMouse.$userLocation_onAutoPilotStop == 'previous' then 7
										)
									)
								)
							)
						)
					),
					$mouseOverText = {1001, 2661} + ': ' + {111813, 688903},
					$onDropDownConfirmed = onDropDownConfirmed
				]"/>

				<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col=1, $text='']"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
				<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col=1, $text={111813, 688901}, $color='Helper.color.red']"/>
				<signal_cue_instantly
					cue = "md.Simple_Menu_API.Make_CheckBox"
					param = "table[
						$id = 'debugChance',
						$checked = if md.kuertee_reset_mouse.ResetMouse.$debugChance == 100 then true else false,
						$col = 2,
						$width = 'Helper.standardButtonHeight', $height = 'Helper.standardButtonHeight',
						$bgColor = 'Helper.color.red',
						$onClick = OnSMOCheckboxChange
					]"/>
			</actions>
		</cue>
		<cue name="OnSMOSliderChange" instantiate="true">
			<conditions>
				<event_cue_signalled />
			</conditions>
			<actions>
				<!-- <debug_text text="event.param.$id + ' to: ' + @event.param.$value + ' or ' + @event.param.$checked" /> -->
				<debug_text text="event.param.$id + ' pre: ' + md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance"/>
				<set_value name="md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" exact="event.param.$value" />
				<debug_text text="event.param.$id + ' post: ' + md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance"/>
				<cancel_cue cue = "this" />
			</actions>
		</cue>
		<cue name="OnSMOCheckboxChange" instantiate="true">
			<conditions>
				<event_cue_signalled />
			</conditions>
			<actions>
				<!-- <debug_text text="event.param.$id + ' to: ' + @event.param.$value + ' or ' + @event.param.$checked" /> -->
				<debug_text text="event.param.$id + ' pre: ' + md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance"/>
				<do_if value="event.param.$id == 'debugChance'">
					<set_value name="md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" exact="if event.param.$checked then 100 else 0" />
					<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
				</do_if>
				<do_else>
					<set_value name="md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" exact="event.param.$checked" />
				</do_else>
				<debug_text text="event.param.$id + ' post: ' + md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance"/>
				<cancel_cue cue = "this" />
			</actions>
		</cue>
		<cue name="onDropDownConfirmed" instantiate="true">
			<conditions>
				<event_cue_signalled />
			</conditions>
			<actions>
				<debug_text text="event.param.$id + ' to: ' + @event.param.$option.$text + ' value: ' + @event.param.$option.$value" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance" />
				<debug_text text="event.param.$id + ' pre: ' + md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance"/>
				<set_value name="md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" exact="(event.param.$option.$value)" />
				<debug_text text="event.param.$id + ' post: ' + md.kuertee_reset_mouse.ResetMouse.{'$' + event.param.$id}" chance="md.kuertee_reset_mouse.ResetMouse.$debugChance"/>
				<cancel_cue cue = "this" />
			</actions>
		</cue>
	</cues>
</mdscript>
