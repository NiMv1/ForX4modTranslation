<?xml version="1.0" encoding="utf-8" ?>
<mdscript name="Upb_Library_Orders"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="md.xsd">

    
	<cues>

        <!--    return value = [$defaultorder, $orders, $sector]
                ship e ait defaultorder, sector ve orders listesini MD yapısında geri verir.
                defaultorder:
                    Belirtilen geminin ship.defaultorder bilgisini expand ederek propertyleri tableye çevirerek geri verir (default table[] )
                sector:
                    ship.defaultorder bilgisi üzerinden sector bilgisi oluşturulur.
                orders:
                    isonlylooporders = true ise ship.orders lardaki order listesinden sadece loop olan ve temporary olmayanları listeye ekler (default true)
                    isonlylooporders = true ise ship.orders lardaki order listesinden tüm orderları listeye keler
                        orders içindeki orderları expand edrek tableye çevirerek listeye ekler. (default [] )
            IN :   orderi istenen obje
                    isonlylooporders ( default true )
            OUT : $result [ defaultorder (table), orders (liste), sector (component) ]     -->
        <library name="Get_Defaultorder_Orders_Sector_From_Ship" purpose="run_actions">
            <params>
                <param name="ship" />
                <param name="isonlylooporders" default="true" />
                <param name="debugchance" default="0"/>
            </params>
            <actions>
                <set_value name="$defaultorder" exact="table[]" />
                <set_value name="$orders" exact="[]" />
                <set_value name="$sector" exact="null" />
                <set_value name="$objectsector" exact="if $ship.sector != null then $ship.sector else $ship.zone" />

                <do_if value="$ship.isrealclass.ship">

                    <!-- defaultorder -->
                    <run_actions ref="md.Upb_Library_Orders.Get_ConvertedOrderTable" result="$result">
                        <param name="order"             value="$ship.defaultorder" />
                        <param name="ship"              value="$ship" />
                        <param name="sectormovewait"    value="$objectsector" />
                    </run_actions>
                    <set_value name="$defaultorder" exact="$result.{1}" />
                    <set_value name="$sector" exact="$result.{3}" />


                    <!-- loop orders -->
                    <do_for_each name="$xorder" in="$ship.orders" reverse="true">
                        <do_if value="$isonlylooporders">
                            <!-- Record.orders içine sadece loop orderları kayıt edeceğiz-->
                            <do_if value="($xorder.isinloop) and (not $xorder.istemporary) and ($xorder.canplayercancel)">
                                <set_value name="$add" exact="true"/>
                            </do_if>
                            <do_else>
                                <set_value name="$add" exact="false"/>
                            </do_else>
                        </do_if>
                        <do_else>
                            <set_value name="$add" exact="true"/>
                        </do_else>
                        <do_if value="$add">
                            <run_actions ref="md.Upb_Library_Orders.Get_ConvertedOrderTable" result="$result">
                                <param name="order"             value="$xorder" />
                                <param name="ship"              value="$ship" />
                                <param name="sectormovewait"    value="$objectsector" />
                            </run_actions>
                            <append_to_list name="$orders" exact="$result.{1}" />
                        </do_if>
                    </do_for_each>

                    
                </do_if>

                <!-- İstasyon için gelinmiş ise sektör bilgisi lazım-->
                <do_if value="$sector == null">
                    <set_value name="$sector" exact="$objectsector" />
                    <do_if value="$sector == null">
                        <set_value name="$sector" exact="if player.sector == null then player.zone else player.sector" />
                        <debug_text text="'Sektör bilgisi okunamadı. default değer olarak player.sector atanacak. SHIP = %s %s &lt;%s&gt; player sector = %s '.[@$ship.knownname, @$ship.idcode, @$ship, @$sector ]" chance="$debugchance"/>
                    </do_if>

                </do_if>

                <set_value name="$tablevalues" exact="table[ $defaultorder = $defaultorder, $sector = $sector, $orders = $orders ]" chance="$debugchance"/>
                <debug_text text="'SHIP : %s %s ( %s )'.[@$ship.knownname, @$ship.idcode, @$ship.sector.knownname]" chance="$debugchance" />
                <run_actions ref="DebugPrintValue" chance="$debugchance">
                    <param name="value" value="$tablevalues" />
                    <param name="recursiondepth" value="3" />
                </run_actions>

                <return value="[$defaultorder, $orders, $sector]"/>
            </actions>
        </library>

        <!-- return value = [$tOrder, $sector]
            order or orderid : 
            datatype order  ya da string orderid üzerinden veri alır, 
            'order' order tipinde bir veri değilse 'orderid' üzerinden ordertablosu boş olarak oluşturulur 
            
            ship: verilmişse params içindeki bazı inputparams veya default değerlerin belirlenmesi için kullanılacak
            
            sectormovewait: 
                yalnızca uyumsuz orderid olması durumunda verilirse MoveWait orderı oluşturalacak sector bilgisi için kullanılacak değilse otomatik üretilen sector bilgisi alınacak
        -->
        <library name="Get_ConvertedOrderTable" purpose="run_actions">
            <params>
                <param name="order" default="null"/>
                <param name="orderid" default="''" />
                <param name="ship" default="null" />
                <param name="sectormovewait" default="null" />
            </params>
            <actions>

                <do_if value="typeof $order == datatype.order">
                    <set_value name="$orderid" exact="$order.id" />
                </do_if>
                <set_value name="$tOrder" exact="table[]" />
                <set_value name="$sector" exact="null" />

                <do_if value="$orderid != ''">

                    <run_actions ref="Get_Order_Params" result="$result">
                        <param name="order" value="$order" />
                        <param name="orderid" value="$orderid" />
                        <param name="ship" value="$ship" />
                    </run_actions>
                    <set_value name="$params" exact="$result.{1}" />
                    <set_value name="$orderinfo" exact="$result.{2}" />
                    <set_value name="$sector" exact="$result.{3}" />
                    
                    <set_value name="$tOrder" exact="table[
                        $id             = $orderid,
                        $name           = $orderinfo.$name,
                        $isinloop       = false,
                        $istemporary    = false,
                        $params         = $params,
                        $requiredskill      = 0,
                        $script             = $orderinfo.$script,
                        $description        = $orderinfo.$description
                    ]" />

                    <do_if value="$params.count == 0">
                        <do_if value="$sectormovewait != null">
                            <set_value name="$sector" exact="$sectormovewait" />
                        </do_if>
                        <run_actions ref="Create_Order_MoveWait_Table" result="$tOrder">
                            <param name="sector" value="$sector" />
                        </run_actions>
                    </do_if>

                    <do_if value="$order.id?">
                        <set_value name="$tOrder" exact="table[
                            $id             = $order.id,
                            $name           = $order.name,
                            $isinloop       = $order.isinloop,
                            $istemporary    = $order.istemporary,
                            $params         = $params,
                            $requiredskill      = $order.requiredskill,
                            $script             = $order.script,
                            $description        = $order.description

                        ]" />
                        <!-- 
                            $object                 = $order.object,
                            $state                  = $order.state,
                            $build                  = $order.build,
                            $canplayercancel        = $order.canplayercancel,
                            $isoverride             = $order.isoverride,
                            $isinfinite             = $order.isinfinite,
                            $istradecomputer        = $order.istradecomputer,
                            $trade                  = $order.trade,
                            $orderDB                = $order
                        -->
                    </do_if>
                
                </do_if>

                <return value="[$tOrder, $orderinfo, $sector]"/>
            </actions>
        </library>

        <!-- order null ise, orderid üzerinden ordertablosu boş olarak oluşturulur-->
        <!-- ship parametresi verilmiş ise  inputparametrelerdeki max, class, cancary, canbecommanderof vb değerleri scriptteki yazılı ayarlar ile belirlemek ve lua içinde rapor almak için kullanacağız
            OUT : [$params, $orderInfo, $sector]
        -->
        <library name="Get_Order_Params" purpose="run_actions">
            <params>
                <param name="order" default="null"/>
                <param name="orderid" default="''" />
                <param name="ship" default="null" />
            </params>
            <actions>

                <do_if value="typeof $order == datatype.order">
                    <set_value name="$orderid" exact="$order.id" />
                </do_if>

                <set_value name="$isplayerowned" exact="true" />
                <do_if value="$ship != null">
                    <set_value name="$isplayerowned" exact="$ship.isplayerowned" />
                </do_if>

                <set_value name="$sector" exact="null" />
                <set_value name="$params" exact="[]" />
                <set_value name="$orderInfo" exact="table[
                    $name           = '',
                    $description    = '',
                    $script         = '',
                    $category       = '',
                    $allowinloop    = true,
                    $infinite       = false,
                    $canplayercancel = false
                ]" />
                

                <do_if value="$orderid != '' ">

                    <!-- infinite       default false -->
                    <!-- allowinloop    default true -->
                    <!-- required       default true -->
                    <!-- advanced       default false -->
                    <do_if value="$orderid == 'AssignCommander'">

                        <set_value name="$orderInfo.$name"              exact="readtext.{1041}.{521}" />
                        <set_value name="$orderInfo.$description"       exact="readtext.{1041}.{522}" />
                        <set_value name="$orderInfo.$script"            exact="'order.assign.commander'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$commander.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'commander',
                            $editable = if $order.isparameditable? then $order.isparameditable.commander else false,
                            $value = if $order.$commander? then $order.$commander else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10076}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'assignment',
                            $editable = if $order.isparameditable? then $order.isparameditable.assignment else false,
                            $value = if $order.$assignment? then $order.$assignment else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10009}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinategroup',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinategroup else false,
                            $value = if $order.$subordinategroup? then $order.$subordinategroup else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10162},
                            $inputparams = table[ $min = 1, $max = 10, $step = 1 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'setgroupassignment',
                            $editable = if $order.isparameditable? then $order.isparameditable.setgroupassignment else false,
                            $value = if $order.$setgroupassignment? then $order.$setgroupassignment else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10163}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cancelorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.cancelorders else false,
                            $value = if $order.$cancelorders? then $order.$cancelorders else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10022}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'response',
                            $editable = if $order.isparameditable? then $order.isparameditable.response else false,
                            $value = if $order.$response? then $order.$response else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10025}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'getnewdefaultorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.getnewdefaultorder else false,
                            $value = if $order.$getnewdefaultorder? then $order.$getnewdefaultorder else (not @$ship.isjobship),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'informfleetmanager',
                            $editable = if $order.isparameditable? then $order.isparameditable.informfleetmanager else false,
                            $value = if $order.$informfleetmanager? then $order.$informfleetmanager else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_if>

                    <do_elseif value="$orderid == 'ProtectSector'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1972092401}.{1}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1972092401}.{2}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.protect.sector'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="true" />

                        <append_to_list name="$params" exact="table[ $name = 'homeSector',
                            $editable = if $order.isparameditable? then $order.isparameditable.homeSector else false,
                            $value = if $order.$homeSector? then $order.$homeSector else if $ship.jobmainsector? then $ship.jobmainsector else @$ship.sector,
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = @readtext.{1972092401}.{101}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackStations',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackStations else false,
                            $value = if $order.$attackStations? then $order.$attackStations else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{111}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackShipsXL',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackShipsXL else false,
                            $value = if $order.$attackShipsXL? then $order.$attackShipsXL else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{121}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackShipsL',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackShipsL else false,
                            $value = if $order.$attackShipsL? then $order.$attackShipsL else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{122}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackShipsM',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackShipsM else false,
                            $value = if $order.$attackShipsM? then $order.$attackShipsM else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{123}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackShipsS',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackShipsS else false,
                            $value = if $order.$attackShipsS? then $order.$attackShipsS else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{124}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackShipsOutOfStationsDistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackShipsOutOfStationsDistance else false,
                            $value = if $order.$attackShipsOutOfStationsDistance? then $order.$attackShipsOutOfStationsDistance else (0km),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = @readtext.{1972092401}.{129},
                            $inputparams = table[ $min = 0km, $max = 30km, $step = 1km ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackVisibleOnly',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackVisibleOnly else false,
                            $value = if $order.$attackVisibleOnly? then $order.$attackVisibleOnly else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{131}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackHostileOnly',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackHostileOnly else false,
                            $value = if $order.$attackHostileOnly? then $order.$attackHostileOnly else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{132}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'protectPlayerShipsInSector',
                            $editable = if $order.isparameditable? then $order.isparameditable.protectPlayerShipsInSector else false,
                            $value = if $order.$protectPlayerShipsInSector? then $order.$protectPlayerShipsInSector else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{134}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'protectOnlyNonMilitaryShips',
                            $editable = if $order.isparameditable? then $order.isparameditable.protectOnlyNonMilitaryShips else false,
                            $value = if $order.$protectOnlyNonMilitaryShips? then $order.$protectOnlyNonMilitaryShips else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{135}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursueFleeingTarget',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursueFleeingTarget else false,
                            $value = if $order.$pursueFleeingTarget? then $order.$pursueFleeingTarget else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'shareTargetsBetweenFleets',
                            $editable = if $order.isparameditable? then $order.isparameditable.shareTargetsBetweenFleets else false,
                            $value = if $order.$shareTargetsBetweenFleets? then $order.$shareTargetsBetweenFleets else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{141}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'shieldsPreserveOnFlight',
                            $editable = if $order.isparameditable? then $order.isparameditable.shieldsPreserveOnFlight else false,
                            $value = if $order.$shieldsPreserveOnFlight? then $order.$shieldsPreserveOnFlight else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{161}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'breakOnDestructionPercentage',
                            $editable = if $order.isparameditable? then $order.isparameditable.breakOnDestructionPercentage else false,
                            $value = if $order.$breakOnDestructionPercentage? then $order.$breakOnDestructionPercentage else (40),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{1972092401}.{171},
                            $inputparams = table[ 
                                $startvalue = 40, 
                                $min = 0, 
                                $max = 100, 
                                $step = 10 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'parkInCenterOfSector',
                            $editable = if $order.isparameditable? then $order.isparameditable.parkInCenterOfSector else false,
                            $value = if $order.$parkInCenterOfSector? then $order.$parkInCenterOfSector else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{181}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'delayBetweenScans',
                            $editable = if $order.isparameditable? then $order.isparameditable.delayBetweenScans else false,
                            $value = if $order.$delayBetweenScans? then $order.$delayBetweenScans else (4),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{1972092401}.{191},
                            $inputparams = table[ 
                                $startvalue = 4, 
                                $min = 1, 
                                $max = 90, 
                                $step = 3 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'recordActionsToLogBook',
                            $editable = if $order.isparameditable? then $order.isparameditable.recordActionsToLogBook else false,
                            $value = if $order.$recordActionsToLogBook? then $order.$recordActionsToLogBook else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1972092401}.{901}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'isStartedByPlayer',
                            $editable = if $order.isparameditable? then $order.isparameditable.isStartedByPlayer else false,
                            $value = if $order.$isStartedByPlayer? then $order.$isStartedByPlayer else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Started by player'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else 0,
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>


                    </do_elseif>

                    <do_elseif value="$orderid == 'SectorExplorer'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{314154}.{12}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{314154}.{12}" />
                        <set_value name="$orderInfo.$script"            exact="'sectorexplorer'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'fs_usecore',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_usecore else false,
                            $value = if $order.$fs_usecore? then $order.$fs_usecore else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{5}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_skiphexagon',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_skiphexagon else false,
                            $value = if $order.$fs_skiphexagon? then $order.$fs_skiphexagon else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{6}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_lockbox',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_lockbox else false,
                            $value = if $order.$fs_lockbox? then $order.$fs_lockbox else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{7}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_abandoned',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_abandoned else false,
                            $value = if $order.$fs_abandoned? then $order.$fs_abandoned else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{15}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_vaults',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_vaults else false,
                            $value = if $order.$fs_vaults? then $order.$fs_vaults else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{16}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_continue',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_continue else false,
                            $value = if $order.$fs_continue? then $order.$fs_continue else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{8}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_stations',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_stations else false,
                            $value = if $order.$fs_stations? then $order.$fs_stations else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{17}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_radius else false,
                            $value = if $order.$fs_radius? then $order.$fs_radius else (300km),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = @readtext.{314154}.{11},
                            $inputparams = table[ $min = 200km, $max = 2000km, $step = 50km ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_delta',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_delta else false,
                            $value = if $order.$fs_delta? then $order.$fs_delta else (40km),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = @readtext.{314154}.{14},
                            $inputparams = table[ $min = 40km, $max = 100km, $step = 10km ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_satscan',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_satscan else false,
                            $value = if $order.$fs_satscan? then $order.$fs_satscan else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{13}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_reset',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_reset else false,
                            $value = if $order.$fs_reset? then $order.$fs_reset else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{18}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_notify',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_notify else false,
                            $value = if $order.$fs_notify? then $order.$fs_notify else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314154}.{19}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_logbook',
                            $editable = if ($order.isparameditable? and $order.$fs_logbook?) then $order.isparameditable.fs_small_ships else false,
                            $value = if $order.$fs_logbook? then $order.$fs_logbook else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{1001}.{5700}
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'InventoryCollector'">

                        <set_value name="$orderInfo.$name"              exact="'Inventory Collector'" />
                        <set_value name="$orderInfo.$description"       exact="'Inventory Collector'" />
                        <set_value name="$orderInfo.$script"            exact="'inventorycollector'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />

                        <append_to_list name="$params" exact="table[ $name = 'fs_small_ships',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_small_ships else false,
                            $value = if $order.$fs_small_ships? then $order.$fs_small_ships else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314153}.{6}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_medium_ships',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_medium_ships else false,
                            $value = if $order.$fs_medium_ships? then $order.$fs_medium_ships else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314153}.{7}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_capital_ships',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_capital_ships else false,
                            $value = if $order.$fs_capital_ships? then $order.$fs_capital_ships else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314153}.{8}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_globalbl',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_globalbl else false,
                            $value = if $order.$fs_globalbl? then $order.$fs_globalbl else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314153}.{9}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_blacklist',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_blacklist else false,
                            $value = if $order.$fs_blacklist? then $order.$fs_blacklist else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = @readtext.{314153}.{10},
                            $inputparams = table[ 
                                $type = 'object', 
                                $class = [class.sector] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_deposit_to_hq',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_deposit_to_hq else false,
                            $value = if $order.$fs_deposit_to_hq? then $order.$fs_deposit_to_hq else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314153}.{11}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_deposit_to_player',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_deposit_to_player else false,
                            $value = if $order.$fs_deposit_to_player? then $order.$fs_deposit_to_player else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314153}.{12}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_revisit_interval',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_revisit_interval else false,
                            $value = if $order.$fs_revisit_interval? then $order.$fs_revisit_interval else (480s),
                            $required = true,
                            $advanced = false,
                            $type = 'time',
                            $text = @readtext.{314153}.{13},
                            $inputparams = table[ 
                                $min = 240s, 
                                $max = 1200s, 
                                $step = 30s 
                            ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'SectorPatrol'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{314155}.{2}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{314155}.{2}" />
                        <set_value name="$orderInfo.$script"            exact="'sectorpatrol'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />

                        <set_value name="$sector" exact="@$order.$fs_space" />

                        <append_to_list name="$params" exact="table[ $name = 'fs_space',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_space else false,
                            $value = if $order.$fs_space? then $order.$fs_space else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = @readtext.{314155}.{6}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_attack_stations',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_attack_stations else false,
                            $value = if $order.$fs_attack_stations? then $order.$fs_attack_stations else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{16}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_attack_xl',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_attack_xl else false,
                            $value = if $order.$fs_attack_xl? then $order.$fs_attack_xl else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{10}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_attack_l',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_attack_l else false,
                            $value = if $order.$fs_attack_l? then $order.$fs_attack_l else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{11}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_attack_m',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_attack_m else false,
                            $value = if $order.$fs_attack_m? then $order.$fs_attack_m else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{12}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_attack_s',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_attack_s else false,
                            $value = if $order.$fs_attack_s? then $order.$fs_attack_s else (true),
                            $advanced = false,
                            $required = true,
                            $type = 'bool',
                            $text = @readtext.{314155}.{13}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_pirates',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_pirates else false,
                            $value = if $order.$fs_pirates? then $order.$fs_pirates else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{8}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_pursue',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_pursue else false,
                            $value = if $order.$fs_pursue? then $order.$fs_pursue else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{9}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_noboost',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_noboost else false,
                            $value = if $order.$fs_noboost? then $order.$fs_noboost else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{7}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_disable',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_disable else false,
                            $value = if $order.$fs_disable? then $order.$fs_disable else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{15}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fs_park',
                            $editable = if $order.isparameditable? then $order.isparameditable.fs_park else false,
                            $value = if $order.$fs_park? then $order.$fs_park else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{314155}.{14}
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'ReactionForce'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{7442342}.{30100}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{7442342}.{30101}" />
                        <set_value name="$orderInfo.$script"            exact="'reactionforce'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />

                        <set_value name="$sector" exact="@$order.$home" />

                        <append_to_list name="$params" exact="table[ $name = 'homePos',
                            $editable = if $order.isparameditable? then $order.isparameditable.homePos else false,
                            $value = if $order.$homePos? then $order.$homePos else (null),
                            $required = false,
                            $advanced = false,
                            $type = 'position',
                            $text = @readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'home',
                            $editable = if $order.isparameditable? then $order.isparameditable.home else false,
                            $value = if $order.$home? then $order.$home else (@$ship.sector),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = @readtext.{7442342}.{30102},
                            $inputparams = table[ 
                                $class = [class.sector, class.station, class.ship] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'whenIdle',
                            $editable = if $order.isparameditable? then $order.isparameditable.whenIdle else false,
                            $value = if $order.$whenIdle? then $order.$whenIdle else (2),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{7442342}.{30126},
                            $inputparams = table[ $startvalue = 2, $min = 1, $max = 4, $step = 1 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'assignToHome',
                            $editable = if $order.isparameditable? then $order.isparameditable.assignToHome else false,
                            $value = if $order.$assignToHome? then $order.$assignToHome else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30125}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'responseRange',
                            $editable = if $order.isparameditable? then $order.isparameditable.responseRange else false,
                            $value = if $order.$responseRange? then $order.$responseRange else (1),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{7442342}.{30106},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = 15, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowedRisk',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowedRisk else false,
                            $value = if $order.$allowedRisk? then $order.$allowedRisk else (6),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{7442342}.{30127},
                            $inputparams = table[ 
                                $startvalue = 6, 
                                $min = 0, 
                                $max = 20, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'shipResponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.shipResponse else false,
                            $value = if $order.$shipResponse? then $order.$shipResponse else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30108}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hpCutoffShip',
                            $editable = if $order.isparameditable? then $order.isparameditable.hpCutoffShip else false,
                            $value = if $order.$hpCutoffShip? then $order.$hpCutoffShip else (95),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{7442342}.{30110},
                            $inputparams = table[ 
                                $startvalue = 95, 
                                $min = 10, 
                                $max = 100, 
                                $step = 5 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'shipFightResponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.shipFightResponse else false,
                            $value = if $order.$shipFightResponse? then $order.$shipFightResponse else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30128}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hpCutoffShipFight',
                            $editable = if $order.isparameditable? then $order.isparameditable.hpCutoffShipFight else false,
                            $value = if $order.$hpCutoffShipFight? then $order.$hpCutoffShipFight else (70),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{7442342}.{30129},
                            $inputparams = table[ $startvalue = 70, $min = 10, $max = 100, $step = 5 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stationResponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.stationResponse else false,
                            $value = if $order.$stationResponse? then $order.$stationResponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30112}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hpCutoffStation',
                            $editable = if $order.isparameditable? then $order.isparameditable.hpCutoffStation else false,
                            $value = if $order.$hpCutoffStation? then $order.$hpCutoffStation else (100),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{7442342}.{30114},
                            $inputparams = table[ $startvalue = 100, $min = 10, $max = 100, $step = 5 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'def_timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.def_timeout else false,
                            $value = if $order.$def_timeout? then $order.$def_timeout else (60s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = 'Keep guarding target',
                            $inputparams = table[ 
                                $startvalue = 30s, 
                                $min = 30s, 
                                $max = 1h, 
                                $step = 30s 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'playerResponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.playerResponse else false,
                            $value = if $order.$playerResponse? then $order.$playerResponse else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30116}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'distressResponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.distressResponse else false,
                            $value = if $order.$distressResponse? then $order.$distressResponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30118}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'notifyMe',
                            $editable = if $order.isparameditable? then $order.isparameditable.notifyMe else false,
                            $value = if $order.$notifyMe? then $order.$notifyMe else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30120}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attS',
                            $editable = if $order.isparameditable? then $order.isparameditable.attS else false,
                            $value = if $order.$attS? then $order.$attS else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30131}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attM',
                            $editable = if $order.isparameditable? then $order.isparameditable.attM else false,
                            $value = if $order.$attM? then $order.$attM else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30132}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attL',
                            $editable = if $order.isparameditable? then $order.isparameditable.attL else false,
                            $value = if $order.$attL? then $order.$attL else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attXL',
                            $editable = if $order.isparameditable? then $order.isparameditable.attXL else false,
                            $value = if $order.$attXL? then $order.$attXL else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{7442342}.{30134}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'reactionSubordinate',
                            $editable = if $order.isparameditable? then $order.isparameditable.reactionSubordinate else false,
                            $value = if $order.$reactionSubordinate? then $order.$reactionSubordinate else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'activeResponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.activeResponse else false,
                            $value = if $order.$activeResponse? then $order.$activeResponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DeadTater'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{3282837}.{500}" />
                        <set_value name="$orderInfo.$description"       exact="'Advanced Trader Logic'" />
                        <set_value name="$orderInfo.$script"            exact="'deadtater'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then $order.$range else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005},
                            $inputparams = table[ $class = [class.sector] ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10066}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else ([[@$ship.commander.tradenpc.skill.management, @$ship.commander.pilot.skill.management, @$ship.pilot.skill.piloting].max,1].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10054},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = [[@$ship.commander.tradenpc.skill.management, @$ship.commander.pilot.skill.management, @$ship.pilot.skill.piloting].max,1].max, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10068}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else ([[@$ship.commander.tradenpc.skill.management, @$ship.commander.pilot.skill.management, @$ship.pilot.skill.piloting].max,1].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10057},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = [[@$ship.commander.tradenpc.skill.management, @$ship.commander.pilot.skill.management, @$ship.pilot.skill.piloting].max,1].max, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'distancecheck',
                            $editable = if $order.isparameditable? then $order.isparameditable.distancecheck else false,
                            $value = if $order.$distancecheck? then $order.$distancecheck else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{501}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'distancecheckpercent',
                            $editable = if $order.isparameditable? then $order.isparameditable.distancecheckpercent else false,
                            $value = if $order.$distancecheckpercent? then $order.$distancecheckpercent else (5),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{3282837}.{502},
                            $inputparams = table[ 
                                $startvalue = 5, 
                                $min = 1, 
                                $max = 10, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'preferownfaction',
                            $editable = if $order.isparameditable? then $order.isparameditable.preferownfaction else false,
                            $value = if $order.$preferownfaction? then $order.$preferownfaction else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{503}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'preferownfactionsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.preferownfactionsell else false,
                            $value = if $order.$preferownfactionsell? then $order.$preferownfactionsell else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{512}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'preferownfactionbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.preferownfactionbuy else false,
                            $value = if $order.$preferownfactionbuy? then $order.$preferownfactionbuy else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{513}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ignoretraderules',
                            $editable = if $order.isparameditable? then $order.isparameditable.ignoretraderules else false,
                            $value = if $order.$ignoretraderules? then $order.$ignoretraderules else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{504}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'autowares',
                            $editable = if $order.isparameditable? then $order.isparameditable.autowares else false,
                            $value = if $order.$autowares? then $order.$autowares else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{505}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'illegalwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.illegalwares else false,
                            $value = if $order.$illegalwares? then $order.$illegalwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{506}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minfill',
                            $editable = if $order.isparameditable? then $order.isparameditable.minfill else false,
                            $value = if $order.$minfill? then $order.$minfill else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{507}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minfillpercent',
                            $editable = if $order.isparameditable? then $order.isparameditable.minfillpercent else false,
                            $value = if $order.$minfillpercent? then $order.$minfillpercent else (25),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{3282837}.{508},
                            $inputparams = table[ 
                                $startvalue = 5, 
                                $min = 5, 
                                $max = 95, 
                                $step = 5 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ignoreshipbuyers',
                            $editable = if $order.isparameditable? then $order.isparameditable.ignoreshipbuyers else false,
                            $value = if $order.$ignoreshipbuyers? then $order.$ignoreshipbuyers else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{511}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enablelogbook',
                            $editable = if $order.isparameditable? then $order.isparameditable.enablelogbook else false,
                            $value = if $order.$enablelogbook? then $order.$enablelogbook else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{509}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else []),
                            $required = false,
                            $advanced = false,
                            $type = 'list',
                            $text = @readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware', 
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'transfercreditoption',
                            $editable = if $order.isparameditable? then $order.isparameditable.transfercreditoption else false,
                            $value = if $order.$transfercreditoption? then $order.$transfercreditoption else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{514}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usequeue',
                            $editable = if $order.isparameditable? then $order.isparameditable.usequeue else false,
                            $value = if $order.$usequeue? then $order.$usequeue else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{515}
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TaterTrade'">

                        <set_value name="$orderInfo.$name"              exact="'TaterTrade'" />
                        <set_value name="$orderInfo.$description"       exact="'Advanced Trader Logic'" />
                        <set_value name="$orderInfo.$script"            exact="'tatertrade'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$home" />

                        <append_to_list name="$params" exact="table[ $name = 'home',
                            $editable = if $order.isparameditable? then $order.isparameditable.home else false,
                            $value = if $order.$home? then $order.$home else ($ship.sector),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = @readtext.{3282837}.{101},
                            $inputparams = table[ $class = [class.sector,class.station] ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'returnhome',
                            $editable = if $order.isparameditable? then $order.isparameditable.returnhome else false,
                            $value = if $order.$returnhome? then $order.$returnhome else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = @readtext.{3282837}.{102}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10066}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else ([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10054},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = [[@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max, 1].max * 2, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10068}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else ([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10057},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = [[@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max, 1].max * 2, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'distancecheck',
                            $editable = if $order.isparameditable? then $order.isparameditable.distancecheck else false,
                            $value = if $order.$distancecheck? then $order.$distancecheck else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{103}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'distancecheckpercent',
                            $editable = if $order.isparameditable? then $order.isparameditable.distancecheckpercent else false,
                            $value = if $order.$distancecheckpercent? then $order.$distancecheckpercent else (2),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{3282837}.{104},
                            $inputparams = table[ 
                                $startvalue = 2, 
                                $min = 1, 
                                $max = 10, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'discount',
                            $editable = if $order.isparameditable? then $order.isparameditable.discount else false,
                            $value = if $order.$discount? then $order.$discount else (100),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{3282837}.{105},
                            $inputparams = table[ $startvalue = 100, $min = 0, $max = 200, $step = 5 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'discount2',
                            $editable = if $order.isparameditable? then $order.isparameditable.discount2 else false,
                            $value = if $order.$discount2? then $order.$discount2 else (100),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = @readtext.{3282837}.{106},
                            $inputparams = table[ $startvalue = 100, $min = 0, $max = 200, $step = 5 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'bypass',
                            $editable = if $order.isparameditable? then $order.isparameditable.bypass else false,
                            $value = if $order.$bypass? then $order.$bypass else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{107}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fasttrade',
                            $editable = if $order.isparameditable? then $order.isparameditable.fasttrade else false,
                            $value = if $order.$fasttrade? then $order.$fasttrade else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{108}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stationmode',
                            $editable = if $order.isparameditable? then $order.isparameditable.stationmode else false,
                            $value = if $order.$stationmode? then $order.$stationmode else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{109}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'blackmarket',
                            $editable = if $order.isparameditable? then $order.isparameditable.blackmarket else false,
                            $value = if $order.$blackmarket? then $order.$blackmarket else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{110}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware', 
                                $cancarry = @$ship 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usepresets',
                            $editable = if $order.isparameditable? then $order.isparameditable.usepresets else false,
                            $value = if $order.$usepresets? then $order.$usepresets else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{111}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.allwares else false,
                            $value = if $order.$allwares? then $order.$allwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{112}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'legalwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.legalwares else false,
                            $value = if $order.$legalwares? then $order.$legalwares else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{113}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'illegalwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.illegalwares else false,
                            $value = if $order.$illegalwares? then $order.$illegalwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{114}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'shipbuildingwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.shipbuildingwares else false,
                            $value = if $order.$shipbuildingwares? then $order.$shipbuildingwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{115}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stationbuildingwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.stationbuildingwares else false,
                            $value = if $order.$stationbuildingwares? then $order.$stationbuildingwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{116}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hightechwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.hightechwares else false,
                            $value = if $order.$hightechwares? then $order.$hightechwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{117}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'refinedwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.refinedwares else false,
                            $value = if $order.$refinedwares? then $order.$refinedwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{118}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'biowares',
                            $editable = if $order.isparameditable? then $order.isparameditable.biowares else false,
                            $value = if $order.$biowares? then $order.$biowares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{119}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'largelegalwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.largelegalwares else false,
                            $value = if $order.$largelegalwares? then $order.$largelegalwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{124}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'mediumlegalwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.mediumlegalwares else false,
                            $value = if $order.$mediumlegalwares? then $order.$mediumlegalwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{125}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'smalllegalwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.smalllegalwares else false,
                            $value = if $order.$smalllegalwares? then $order.$smalllegalwares else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{126}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'excludedsectors',
                            $editable = if $order.isparameditable? then $order.isparameditable.excludedsectors else false,
                            $value = if $order.$excludedsectors? then $order.$excludedsectors else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = @readtext.{3282837}.{120},
                            $inputparams = table[ 
                                $type = 'object', 
                                $class = [class.sector] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'includedsectors',
                            $editable = if $order.isparameditable? then $order.isparameditable.includedsectors else false,
                            $value = if $order.$includedsectors? then $order.$includedsectors else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = @readtext.{3282837}.{121},
                            $inputparams = table[ 
                                $type = 'object', 
                                $class = [class.sector] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enablebans',
                            $editable = if $order.isparameditable? then $order.isparameditable.enablebans else false,
                            $value = if $order.$enablebans? then $order.$enablebans else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{122}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'playerban',
                            $editable = if $order.isparameditable? then $order.isparameditable.playerban else false,
                            $value = if $order.$playerban? then $order.$playerban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{101}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'argonban',
                            $editable = if $order.isparameditable? then $order.isparameditable.argonban else false,
                            $value = if $order.$argonban? then $order.$argonban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{201}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'antigoneban',
                            $editable = if $order.isparameditable? then $order.isparameditable.antigoneban else false,
                            $value = if $order.$antigoneban? then $order.$antigoneban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{301}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'teladiban',
                            $editable = if $order.isparameditable? then $order.isparameditable.teladiban else false,
                            $value = if $order.$teladiban? then $order.$teladiban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{601}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ministryban',
                            $editable = if $order.isparameditable? then $order.isparameditable.ministryban else false,
                            $value = if $order.$ministryban? then $order.$ministryban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{701}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'paranidban',
                            $editable = if $order.isparameditable? then $order.isparameditable.paranidban else false,
                            $value = if $order.$paranidban? then $order.$paranidban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{401}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'holyorderban',
                            $editable = if $order.isparameditable? then $order.isparameditable.holyorderban else false,
                            $value = if $order.$holyorderban? then $order.$holyorderban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{501}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allianceban',
                            $editable = if $order.isparameditable? then $order.isparameditable.allianceban else false,
                            $value = if $order.$allianceban? then $order.$allianceban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{801}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'trinityban',
                            $editable = if $order.isparameditable? then $order.isparameditable.trinityban else false,
                            $value = if $order.$trinityban? then $order.$trinityban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{2301}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'splitban',
                            $editable = if $order.isparameditable? then $order.isparameditable.splitban else false,
                            $value = if $order.$splitban? then $order.$splitban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{2001}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'freesplitban',
                            $editable = if $order.isparameditable? then $order.isparameditable.freesplitban else false,
                            $value = if $order.$freesplitban? then $order.$freesplitban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{1601}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'courtban',
                            $editable = if $order.isparameditable? then $order.isparameditable.courtban else false,
                            $value = if $order.$courtban? then $order.$courtban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{1801}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'buccaneersban',
                            $editable = if $order.isparameditable? then $order.isparameditable.buccaneersban else false,
                            $value = if $order.$buccaneersban? then $order.$buccaneersban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{2401}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fallensplitban',
                            $editable = if $order.isparameditable? then $order.isparameditable.fallensplitban else false,
                            $value = if $order.$fallensplitban? then $order.$fallensplitban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{1701}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hatikvahban',
                            $editable = if $order.isparameditable? then $order.isparameditable.hatikvahban else false,
                            $value = if $order.$hatikvahban? then $order.$hatikvahban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{901}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'scaleplateban',
                            $editable = if $order.isparameditable? then $order.isparameditable.scaleplateban else false,
                            $value = if $order.$scaleplateban? then $order.$scaleplateban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{1001}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pioneersban',
                            $editable = if $order.isparameditable? then $order.isparameditable.pioneersban else false,
                            $value = if $order.$pioneersban? then $order.$pioneersban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{2901}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'terranban',
                            $editable = if $order.isparameditable? then $order.isparameditable.terranban else false,
                            $value = if $order.$terranban? then $order.$terranban else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{20203}.{3001}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'scanspeed',
                            $editable = if $order.isparameditable? then $order.isparameditable.scanspeed else false,
                            $value = if $order.$scanspeed? then $order.$scanspeed else (5),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = 'Scan Speed',
                            $inputparams = table[ $startvalue = 5, $min = 1, $max = 15, $step = 1 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enablelogbook',
                            $editable = if $order.isparameditable? then $order.isparameditable.enablelogbook else false,
                            $value = if $order.$enablelogbook? then $order.$enablelogbook else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = @readtext.{3282837}.{129}
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Assist'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{711}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{712}" />
                        <set_value name="$orderInfo.$script"            exact="'order.assist'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'baseorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.baseorder else false,
                            $value = if $order.$baseorder? then $order.$baseorder else null,
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'orderobject',
                            $editable = if $order.isparameditable? then $order.isparameditable.orderobject else false,
                            $value = if $order.$orderobject? then $order.$orderobject else null,
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else 0,
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DeployToStation'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{511}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{512}" />
                        <set_value name="$orderInfo.$script"            exact="'order.build.deploy'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$station.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'station',
                            $editable = if $order.isparameditable? then $order.isparameditable.station else false,
                            $value = if $order.$station? then $order.$station else null,
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10119},
                            $inputparams = table[ 
                                $class = [class.station], 
                                $owner = if $ship != null then $ship.owner else faction.player, 
                                $hasbuildingmodule = true 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'waitduration',
                            $editable = if $order.isparameditable? then $order.isparameditable.waitduration else false,
                            $value = if $order.$waitduration? then $order.$waitduration else 5min,
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10143}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'abandonbuildtime',
                            $editable = if $order.isparameditable? then $order.isparameditable.abandonbuildtime else false,
                            $value = if $order.$abandonbuildtime? then $order.$abandonbuildtime else 1h,
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10156}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else 0,
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Equip'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{501}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{502}" />
                        <set_value name="$orderInfo.$script"            exact="'order.build.equip'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'build',
                            $editable = if $order.isparameditable? then $order.isparameditable.build else false,
                            $value = if $order.$build? then $order.$build else null,
                            $required = true,
                            $advanced = true,
                            $type = 'build',
                            $text = readtext.{1041}.{10153},
                            $inputparams = table[ 
                                $playerreadonly = true 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinateorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinateorders else false,
                            $value = if $order.$subordinateorders? then $order.$subordinateorders else [],
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else false,
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else false,
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else 0,
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'FindBuildTasks'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{491}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{492}" />
                        <set_value name="$orderInfo.$script"            exact="'order.build.find.task'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then $order.$range else (if @$ship.jobmainsector then @$ship.jobmainsector else @$ship.sector),
                            $required = true,
                            $advanced = true,
                            $type = 'sector',
                            $text = readtext.{1041}.{10017}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxjumps',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxjumps else false,
                            $value = if $order.$maxjumps? then $order.$maxjumps else (36),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10055},
                            $inputparams = table[ 
                                $startvalue = 36, 
                                $min = 0, 
                                $max = 36, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'playeronly',
                            $editable = if $order.isparameditable? then $order.isparameditable.playeronly else false,
                            $value = if $order.$playeronly? then $order.$playeronly else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10155}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ownfactiononly',
                            $editable = if $order.isparameditable? then $order.isparameditable.ownfactiononly else false,
                            $value = if $order.$ownfactiononly? then $order.$ownfactiononly else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Recycle'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{721}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{722}" />
                        <set_value name="$orderInfo.$script"            exact="'order.build.recycle'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'build',
                            $editable = if $order.isparameditable? then $order.isparameditable.build else false,
                            $value = if $order.$build? then $order.$build else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'build',
                            $text = readtext.{1041}.{10153},
                            $inputparams = table[ 
                                $playerreadonly = true 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usecover',
                            $editable = if $order.isparameditable? then $order.isparameditable.usecover else false,
                            $value = if $order.$usecover? then $order.$usecover else (not $isplayerowned and not @$ship.trueowner.iseconomic),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Use Cover'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'CollectDeployables'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{691}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{692}" />
                        <set_value name="$orderInfo.$script"            exact="'order.collect.ship.deployable'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'targetlist',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetlist else false,
                            $value = if $order.$targetlist? then $order.$targetlist else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10079},
                            $inputparams = table[ 
                                $type = 'object', 
                                $isdeployable = true, 
                                $class = [class.navbeacon, class.satellite, class.resourceprobe, class.ship], 
                                $owner = if $ship != null then $ship.trueowner else faction.player 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'CollectLockbox'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{661}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{662}" />
                        <set_value name="$orderInfo.$script"            exact="'order.collect.ship.lockbox'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10160},
                            $inputparams = table[ 
                                $class = [class.lockbox] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'CollectDropsInRadius'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{571}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{572}" />
                        <set_value name="$orderInfo.$script"            exact="'order.collect.ship.radius'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (@$ship.maxradarrange),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = if $ship != null then $ship.maxradarrange else @$order.$radius, 
                                $step = 1km 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Collect'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{481}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{482}" />
                        <set_value name="$orderInfo.$script"            exact="'order.collect.ship'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'targetlist',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetlist else false,
                            $value = if $order.$targetlist? then $order.$targetlist else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10079},
                            $inputparams = table[ 
                                $type = 'object', 
                                $class = [class.drop] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DeployStaticDefenseStrategy'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{881}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{882}" />
                        <set_value name="$orderInfo.$script"            exact="'order.deploystaticdefensestrategy'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'staticdefensestrategy',
                            $editable = if $order.isparameditable? then $order.isparameditable.staticdefensestrategy else false,
                            $value = if $order.$staticdefensestrategy? then $order.$staticdefensestrategy else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10174}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'isminesonly',
                            $editable = if $order.isparameditable? then $order.isparameditable.isminesonly else false,
                            $value = if $order.$isminesonly? then $order.$isminesonly else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10175}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DeployObjectAtPosition'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{471}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{472}" />
                        <set_value name="$orderInfo.$script"            exact="'order.deployobjectatposition'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10085},
                            $inputparams = table[ $class = class.sector ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'objectstodeploy',
                            $editable = if $order.isparameditable? then $order.isparameditable.objectstodeploy else false,
                            $value = if $order.$objectstodeploy? then $order.$objectstodeploy else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10080},
                            $inputparams = table[ $type = 'macro', $playerreadonly = true ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'amountstodeploy',
                            $editable = if $order.isparameditable? then $order.isparameditable.amountstodeploy else false,
                            $value = if $order.$amountstodeploy? then $order.$amountstodeploy else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10004},
                            $inputparams = table[ $type = 'number', $playerreadonly = true ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DeployObjectsAtGates'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{761}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{762}" />
                        <set_value name="$orderInfo.$script"            exact="'order.deployobjectsatgates'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$targetsector" />

                        <append_to_list name="$params" exact="table[ $name = 'targetsector',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetsector else false,
                            $value = if $order.$targetsector? then $order.$targetsector else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10117}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deployablecategory',
                            $editable = if $order.isparameditable? then $order.isparameditable.deployablecategory else false,
                            $value = if $order.$deployablecategory? then $order.$deployablecategory else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10171}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Player_DockToTrade'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{461}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{462}" />
                        <set_value name="$orderInfo.$script"            exact="'order.dock.trade.player'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ $class = [class.station, class.buildstorage] ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'waittime',
                            $editable = if $order.isparameditable? then $order.isparameditable.waittime else false,
                            $value = if $order.$waittime? then $order.$waittime else (10min),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10061},
                            $inputparams = table[ $startvalue = 10min, $min = 0s, $max = 10h, $step = 30s ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'dockfollowers',
                            $editable = if $order.isparameditable? then $order.isparameditable.dockfollowers else false,
                            $value = if $order.$dockfollowers? then $order.$dockfollowers else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10032}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinateorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinateorders else false,
                            $value = if $order.$subordinateorders? then $order.$subordinateorders else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'dockorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.dockorder else false,
                            $value = if $order.$dockorder? then $order.$dockorder else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DockAndWait'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{451}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{452}" />
                        <set_value name="$orderInfo.$script"            exact="'order.dock.wait'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ $class = if @ship.isclass.[class.ship_s, class.ship_xs] then [class.station, class.ship_m, class.ship_l, class.ship_xl] else [class.station, class.ship_l, class.ship_xl] ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'building',
                            $editable = if $order.isparameditable? then $order.isparameditable.building else false,
                            $value = if $order.$building? then $order.$building else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10016}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'trading',
                            $editable = if $order.isparameditable? then $order.isparameditable.trading else false,
                            $value = if $order.$trading? then $order.$trading else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10131}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowplayeronly',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowplayeronly else false,
                            $value = if $order.$allowplayeronly? then $order.$allowplayeronly else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Allow PlayerOnly'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ventureplatform',
                            $editable = if $order.isparameditable? then $order.isparameditable.ventureplatform else false,
                            $value = if $order.$ventureplatform? then $order.$ventureplatform else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Venture Platform'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s, 
                                $max = 10h, 
                                $step = 30s 
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'waittime',
                            $editable = if $order.isparameditable? then $order.isparameditable.waittime else false,
                            $value = if $order.$waittime? then $order.$waittime else (10min),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10061},
                            $inputparams = table[ 
                                $startvalue = 10min, 
                                $min = 0s, 
                                $max = 10h, 
                                $step = 30s
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'dockfollowers',
                            $editable = if $order.isparameditable? then $order.isparameditable.dockfollowers else false,
                            $value = if $order.$dockfollowers? then $order.$dockfollowers else (if $ship != null then $ship.isunit else false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10032}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'releasesignal',
                            $editable = if $order.isparameditable? then $order.isparameditable.releasesignal else false,
                            $value = if $order.$releasesignal? then $order.$releasesignal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinateorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinateorders else false,
                            $value = if $order.$subordinateorders? then $order.$subordinateorders else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'dockorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.dockorder else false,
                            $value = if $order.$dockorder? then $order.$dockorder else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'callerid',
                            $editable = if $order.isparameditable? then $order.isparameditable.callerid else false,
                            $value = if $order.$callerid? then $order.$callerid else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'undockhandler',
                            $editable = if $order.isparameditable? then $order.isparameditable.undockhandler else false,
                            $value = if $order.$undockhandler? then $order.$undockhandler else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'isdockfollower',
                            $editable = if $order.isparameditable? then $order.isparameditable.isdockfollower else false,
                            $value = if $order.$isdockfollower? then $order.$isdockfollower else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noboost',
                            $editable = if $order.isparameditable? then $order.isparameditable.noboost else false,
                            $value = if $order.$noboost? then $order.$noboost else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'uselocalhighways',
                            $editable = if $order.isparameditable? then $order.isparameditable.uselocalhighways else false,
                            $value = if $order.$uselocalhighways? then $order.$uselocalhighways else (if $ship != null then not $ship.iscapitalship else false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'untilplayerleaves',
                            $editable = if $order.isparameditable? then $order.isparameditable.untilplayerleaves else false,
                            $value = if $order.$untilplayerleaves? then $order.$untilplayerleaves else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'DockAt'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{441}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{442}" />
                        <set_value name="$orderInfo.$script"            exact="'order.dock'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$canplayercancel"   exact="true" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (@$ship.assigneddock.container),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ $class = if @ship.isclass.[class.ship_s, class.ship_xs] then [class.station, class.ship_m, class.ship_l, class.ship_xl] else [class.station, class.ship_l, class.ship_xl] ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'building',
                            $editable = if $order.isparameditable? then $order.isparameditable.building else false,
                            $value = if $order.$building? then $order.$building else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10016}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'trading',
                            $editable = if $order.isparameditable? then $order.isparameditable.trading else false,
                            $value = if $order.$trading? then $order.$trading else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10131}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowplayeronly',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowplayeronly else false,
                            $value = if $order.$allowplayeronly? then $order.$allowplayeronly else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Allow PlayerOnly'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ventureplatform',
                            $editable = if $order.isparameditable? then $order.isparameditable.ventureplatform else false,
                            $value = if $order.$ventureplatform? then $order.$ventureplatform else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Venture Platform'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'useentrypos',
                            $editable = if $order.isparameditable? then $order.isparameditable.useentrypos else false,
                            $value = if $order.$useentrypos? then $order.$useentrypos else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10139}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'dockfollowers',
                            $editable = if $order.isparameditable? then $order.isparameditable.dockfollowers else false,
                            $value = if $order.$dockfollowers? then $order.$dockfollowers else (if $ship != null then $ship.isunit else false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10132}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'abouttofinish',
                            $editable = if $order.isparameditable? then $order.isparameditable.abouttofinish else false,
                            $value = if $order.$abouttofinish? then $order.$abouttofinish else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10001}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'waittime',
                            $editable = if $order.isparameditable? then $order.isparameditable.waittime else false,
                            $value = if $order.$waittime? then $order.$waittime else (if $ship != null and @$ship.isclass.spacesuit then $ship.oxygentimeremaining else 10min),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10061},
                            $inputparams = table[ $startvalue = 10min, $min = 0s, $max = 10h, $step = 30s ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'store',
                            $editable = if $order.isparameditable? then $order.isparameditable.store else false,
                            $value = if $order.$store? then $order.$store else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'dockandwaitid',
                            $editable = if $order.isparameditable? then $order.isparameditable.dockandwaitid else false,
                            $value = if $order.$dockandwaitid? then $order.$dockandwaitid else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'callerid',
                            $editable = if $order.isparameditable? then $order.isparameditable.callerid else false,
                            $value = if $order.$callerid? then $order.$callerid else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'isdockfollower',
                            $editable = if $order.isparameditable? then $order.isparameditable.isdockfollower else false,
                            $value = if $order.$isdockfollower? then $order.$isdockfollower else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noboost',
                            $editable = if $order.isparameditable? then $order.isparameditable.noboost else false,
                            $value = if $order.$noboost? then $order.$noboost else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'uselocalhighways',
                            $editable = if $order.isparameditable? then $order.isparameditable.uselocalhighways else false,
                            $value = if $order.$uselocalhighways? then $order.$uselocalhighways else (if $ship != null then not $ship.iscapitalship else false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'untilplayerleaves',
                            $editable = if $order.isparameditable? then $order.isparameditable.untilplayerleaves else false,
                            $value = if $order.$untilplayerleaves? then $order.$untilplayerleaves else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'recallsubordinates',
                            $editable = if $order.isparameditable? then $order.isparameditable.recallsubordinates else false,
                            $value = if $order.$recallsubordinates? then $order.$recallsubordinates else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'spacesuittransfer',
                            $editable = if $order.isparameditable? then $order.isparameditable.spacesuittransfer else false,
                            $value = if $order.$spacesuittransfer? then $order.$spacesuittransfer else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'AttackInRange'">

                        <set_value name="$orderInfo.$name"          exact="@readtext.{1041}.{631}" />
                        <set_value name="$orderInfo.$description"   exact="@readtext.{1041}.{632}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.attack.inrange'" />
                        <set_value name="$orderInfo.$category"      exact="'combat'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10158},
                            $inputparams = table[ $class = class.sector ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (@$ship.maxradarrange),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = [@$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuetargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuetargets else false,
                            $value = if $order.$pursuetargets? then $order.$pursuetargets else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10091}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enforceradius',
                            $editable = if $order.isparameditable? then $order.isparameditable.enforceradius else false,
                            $value = if $order.$enforceradius? then $order.$enforceradius else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Attack_Player'">

                        <set_value name="$orderInfo.$name"          exact="@readtext.{1041}.{431}" />
                        <set_value name="$orderInfo.$description"   exact="@readtext.{1041}.{432}" />
                        <set_value name="$orderInfo.$script"        exact="'order.fight.attack.object.player'" />
                        <set_value name="$orderInfo.$category"      exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"   exact="false" />

                        <set_value name="$sector" exact="@$order.$primarytarget.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'primarytarget',
                            $editable = if $order.isparameditable? then $order.isparameditable.primarytarget else false,
                            $value = if $order.$primarytarget? then $order.$primarytarget else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $class = [class.defensible] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'secondarytargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.secondarytargets else false,
                            $value = if $order.$secondarytargets? then $order.$secondarytargets else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10149},
                            $inputparams = table[ 
                                $type = 'object', 
                                $class = [class.defensible] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'escort',
                            $editable = if $order.isparameditable? then $order.isparameditable.escort else false,
                            $value = if $order.$escort? then $order.$escort else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10038}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuedistance else false,
                            $value = if $order.$pursuedistance? then $order.$pursuedistance else ([@$ship.maxradarrange, 1km].max),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10090},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = if $ship != null then [$ship.maxradarrange, 1km].max else $order.$pursuedistance, 
                                $step = 1km 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuetargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuetargets else false,
                            $value = if $order.$pursuetargets? then $order.$pursuetargets else ($isplayerowned),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10091}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowothertargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowothertargets else false,
                            $value = if $order.$allowothertargets? then $order.$allowothertargets else (if $isplayerowned then false else true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10010}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'checkrelation',
                            $editable = if $order.isparameditable? then $order.isparameditable.checkrelation else false,
                            $value = if $order.$checkrelation? then $order.$checkrelation else (if $isplayerowned then @$ship.mayattack.{@$order.$primarytarget} else true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10081}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'disable',
                            $editable = if $order.isparameditable? then $order.isparameditable.disable else false,
                            $value = if $order.$disable? then $order.$disable else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10114}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'disablehullpercentagethreshold',
                            $editable = if $order.isparameditable? then $order.isparameditable.disablehullpercentagethreshold else false,
                            $value = if $order.$disablehullpercentagethreshold? then $order.$disablehullpercentagethreshold else (20),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10152},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = 100, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'disabletargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.disabletargets else false,
                            $value = if $order.$disabletargets? then $order.$disabletargets else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10029}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minrange',
                            $editable = if $order.isparameditable? then $order.isparameditable.minrange else false,
                            $value = if $order.$minrange? then $order.$minrange else (@$ship.maxcombatrange.all * 0.6),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10072},
                            $inputparams = table[ 
                                $startvalue = if $ship != null then $ship.maxcombatrange.all * 0.6 else $order.$minrange , 
                                $min = 0, 
                                $max = if $ship != null then $ship.maxcombatrange.all else $order.$minrange , 
                                $step = if $ship != null then $ship.maxcombatrange.all / 10 else $order.$minrange / 10 , 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxrange',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxrange else false,
                            $value = if $order.$maxrange? then $order.$maxrange else (@$ship.maxcombatrange.all * 0.9),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10062},
                            $inputparams = table[ 
                                $startvalue = if $ship != null then $ship.maxcombatrange.all * 0.9 else $order.$maxrange , 
                                $min = 0, 
                                $max = if $ship != null then $ship.maxcombatrange.all else $order.$maxrange, 
                                $step = if $ship != null then $ship.maxcombatrange.all / 10 else $order.$maxrange / 10 , 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maintaindistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.maintaindistance else false,
                            $value = if $order.$maintaindistance? then $order.$maintaindistance else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10023}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'squad_attack',
                            $editable = if $order.isparameditable? then $order.isparameditable.squad_attack else false,
                            $value = if $order.$squad_attack? then $order.$squad_attack else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10118}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'boardingbehavior',
                            $editable = if $order.isparameditable? then $order.isparameditable.boardingbehavior else false,
                            $value = if $order.$boardingbehavior? then $order.$boardingbehavior else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'behaviortargetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.behaviortargetclasses else false,
                            $value = if $order.$behaviortargetclasses? then $order.$behaviortargetclasses else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'uncover',
                            $editable = if $order.isparameditable? then $order.isparameditable.uncover else false,
                            $value = if $order.$uncover? then $order.$uncover else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radiusanchorpos',
                            $editable = if $order.isparameditable? then $order.isparameditable.radiusanchorpos else false,
                            $value = if $order.$radiusanchorpos? then $order.$radiusanchorpos else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radiusanchorspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.radiusanchorspace else false,
                            $value = if $order.$radiusanchorspace? then $order.$radiusanchorspace else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowboost',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowboost else false,
                            $value = if $order.$allowboost? then $order.$allowboost else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10161}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'forceprimarytarget',
                            $editable = if $order.isparameditable? then $order.isparameditable.forceprimarytarget else false,
                            $value = if $order.$forceprimarytarget? then $order.$forceprimarytarget else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enforceradius',
                            $editable = if $order.isparameditable? then $order.isparameditable.enforceradius else false,
                            $value = if $order.$enforceradius? then $order.$enforceradius else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'Attack'">

                        <set_value name="$orderInfo.$name"          exact="@readtext.{1041}.{431}" />
                        <set_value name="$orderInfo.$description"   exact="@readtext.{1041}.{432}" />
                        <set_value name="$orderInfo.$script"        exact="'order.fight.attack.object'" />
                        <set_value name="$orderInfo.$category"      exact="'combat'" />
                        <set_value name="$orderInfo.$allowinloop"   exact="false" />

                        <set_value name="$sector" exact="@$order.$primarytarget.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'primarytarget',
                            $editable = if $order.isparameditable? then $order.isparameditable.primarytarget else false,
                            $value = if $order.$primarytarget? then $order.$primarytarget else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $class = [class.defensible] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'secondarytargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.secondarytargets else false,
                            $value = if $order.$secondarytargets? then $order.$secondarytargets else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10149},
                            $inputparams = table[ 
                                $type = 'object', 
                                $class = [class.defensible] 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'escort',
                            $editable = if $order.isparameditable? then $order.isparameditable.escort else false,
                            $value = if $order.$escort? then $order.$escort else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10038}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuedistance else false,
                            $value = if $order.$pursuedistance? then $order.$pursuedistance else ([@$ship.maxradarrange, 1km].max),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10090},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = if $ship != null then [$ship.maxradarrange, 1km].max else $order.$pursuedistance, 
                                $step = 1km 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuetargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuetargets else false,
                            $value = if $order.$pursuetargets? then $order.$pursuetargets else ($isplayerowned),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10091}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowothertargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowothertargets else false,
                            $value = if $order.$allowothertargets? then $order.$allowothertargets else (not $isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10010}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'checkrelation',
                            $editable = if $order.isparameditable? then $order.isparameditable.checkrelation else false,
                            $value = if $order.$checkrelation? then $order.$checkrelation else (if $isplayerowned then @$ship.mayattack.{@$order.$primarytarget} else true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10081}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'disable',
                            $editable = if $order.isparameditable? then $order.isparameditable.disable else false,
                            $value = if $order.$disable? then $order.$disable else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10114}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'disablehullpercentagethreshold',
                            $editable = if $order.isparameditable? then $order.isparameditable.disablehullpercentagethreshold else false,
                            $value = if $order.$disablehullpercentagethreshold? then $order.$disablehullpercentagethreshold else (20),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10152},
                            $inputparams = table[ 
                                $startvalue = 0, 
                                $min = 0, 
                                $max = 100, 
                                $step = 1 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'disabletargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.disabletargets else false,
                            $value = if $order.$disabletargets? then $order.$disabletargets else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10029}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minrange',
                            $editable = if $order.isparameditable? then $order.isparameditable.minrange else false,
                            $value = if $order.$minrange? then $order.$minrange else (@$ship.maxcombatrange.all * 0.6),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10072},
                            $inputparams = table[ 
                                $startvalue = if $ship != null then $ship.maxcombatrange.all * 0.6 else $order.$minrange , 
                                $min = 0, 
                                $max = if $ship != null then $ship.maxcombatrange.all else $order.$minrange , 
                                $step = if $ship != null then $ship.maxcombatrange.all / 10 else $order.$minrange / 10 , 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxrange',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxrange else false,
                            $value = if $order.$maxrange? then $order.$maxrange else (@$ship.maxcombatrange.all * 0.9),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10062},
                            $inputparams = table[ 
                                $startvalue = if $ship != null then $ship.maxcombatrange.all * 0.9 else $order.$maxrange , 
                                $min = 0, 
                                $max = if $ship != null then $ship.maxcombatrange.all else $order.$maxrange, 
                                $step = if $ship != null then $ship.maxcombatrange.all / 10 else $order.$maxrange / 10 , 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maintaindistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.maintaindistance else false,
                            $value = if $order.$maintaindistance? then $order.$maintaindistance else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10023}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'squad_attack',
                            $editable = if $order.isparameditable? then $order.isparameditable.squad_attack else false,
                            $value = if $order.$squad_attack? then $order.$squad_attack else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10118}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'boardingbehavior',
                            $editable = if $order.isparameditable? then $order.isparameditable.boardingbehavior else false,
                            $value = if $order.$boardingbehavior? then $order.$boardingbehavior else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'behaviortargetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.behaviortargetclasses else false,
                            $value = if $order.$behaviortargetclasses? then $order.$behaviortargetclasses else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'uncover',
                            $editable = if $order.isparameditable? then $order.isparameditable.uncover else false,
                            $value = if $order.$uncover? then $order.$uncover else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radiusanchorpos',
                            $editable = if $order.isparameditable? then $order.isparameditable.radiusanchorpos else false,
                            $value = if $order.$radiusanchorpos? then $order.$radiusanchorpos else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radiusanchorspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.radiusanchorspace else false,
                            $value = if $order.$radiusanchorspace? then $order.$radiusanchorspace else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowboost',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowboost else false,
                            $value = if $order.$allowboost? then $order.$allowboost else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10161}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'forceprimarytarget',
                            $editable = if $order.isparameditable? then $order.isparameditable.forceprimarytarget else false,
                            $value = if $order.$forceprimarytarget? then $order.$forceprimarytarget else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enforceradius',
                            $editable = if $order.isparameditable? then $order.isparameditable.enforceradius else false,
                            $value = if $order.$enforceradius? then $order.$enforceradius else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'Board'">

                        <set_value name="$orderInfo.$name"          exact="@readtext.{1041}.{421}" />
                        <set_value name="$orderInfo.$description"   exact="@readtext.{1041}.{422}" />
                        <set_value name="$orderInfo.$script"        exact="'order.fight.board'" />
                        <set_value name="$orderInfo.$category"      exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"   exact="false" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'boardingoperation',
                            $editable = if $order.isparameditable? then $order.isparameditable.boardingoperation else false,
                            $value = if $order.$boardingoperation? then $order.$boardingoperation else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuedistance else false,
                            $value = if $order.$pursuedistance? then $order.$pursuedistance else ([@$ship.maxradarrange, 1km].max),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10090},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = [@$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuetargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuetargets else false,
                            $value = if $order.$pursuetargets? then $order.$pursuetargets else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10092}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'squad_attack',
                            $editable = if $order.isparameditable? then $order.isparameditable.squad_attack else false,
                            $value = if $order.$squad_attack? then $order.$squad_attack else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10118}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Escort'">

                        <set_value name="$orderInfo.$name"          exact="@readtext.{1041}.{411}" />
                        <set_value name="$orderInfo.$description"   exact="@readtext.{1041}.{412}" />
                        <set_value name="$orderInfo.$script"        exact="'order.fight.escort'" />
                        <set_value name="$orderInfo.$category"      exact="'internal'" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10024},
                            $inputparams = table[ 
                                $class = 1km, 
                                $canbecommanderof = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'formation',
                            $editable = if $order.isparameditable? then $order.isparameditable.formation else false,
                            $value = if $order.$formation? then $order.$formation else (@$order.$target.formationshape),
                            $required = true,
                            $advanced = true,
                            $type = 'formationshape',
                            $text = readtext.{1041}.{10042}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'formationparam',
                            $editable = if $order.isparameditable? then $order.isparameditable.formationparam else false,
                            $value = if $order.$formationparam? then $order.$formationparam else ([[@$order.$target.formationradius, @$ship.defaultformationradius.{@$order.$target}].max, 5km].min),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10040},
                            $inputparams = table[ 
                                $min = @$ship.size + @$order.$target.size, 
                                $max = [[@$order.$target.formationradius * 2, @$ship.defaultformationradius.{@$order.$target} * 2, 2km].max, 5km].min,
                                $step = 100m
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'rollmembers',
                            $editable = if $order.isparameditable? then $order.isparameditable.rollmembers else false,
                            $value = if $order.$rollmembers? then $order.$rollmembers else (if (not @$order.$target.formationshape) then @$order.$formation.rollmembers else @$order.$target.isformationrollmembers),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10107}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'rollformation',
                            $editable = if $order.isparameditable? then $order.isparameditable.rollformation else false,
                            $value = if $order.$rollformation? then $order.$rollformation else (if (not @$order.$target.formationshape) then @$order.$formation.rollformation else @$order.$target.isformationrolling),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10106}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxshipsperline',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxshipsperline else false,
                            $value = if $order.$maxshipsperline? then $order.$maxshipsperline else (if (not @$order.$target.formationshape) then @$order.$formation.maxshipsperline else @$order.$target.formationmaxshipsperline),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10060},
                            $inputparams = table[ 
                                $min = 3, 
                                $max = 50,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuedistance else false,
                            $value = if $order.$pursuedistance? then $order.$pursuedistance else (if ((@$ship.assignment == assignment.defence) and $isplayerowned) then 20km else [@$order.$target.maxradarrange, @$ship.maxradarrange, 1km].max),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10090},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = [@$order.$target.maxradarrange, @$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s, 
                                $max = 10h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'overrideformationskill',
                            $editable = if $order.isparameditable? then $order.isparameditable.overrideformationskill else false,
                            $value = if $order.$overrideformationskill? then $order.$overrideformationskill else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'releasesignal',
                            $editable = if $order.isparameditable? then $order.isparameditable.releasesignal else false,
                            $value = if $order.$releasesignal? then $order.$releasesignal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinateorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinateorders else false,
                            $value = if $order.$subordinateorders? then $order.$subordinateorders else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'endontargetdeath',
                            $editable = if $order.isparameditable? then $order.isparameditable.endontargetdeath else false,
                            $value = if $order.$subordinateorders? then $order.$subordinateorders else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'thresholdbreak',
                            $editable = if $order.isparameditable? then $order.isparameditable.thresholdbreak else false,
                            $value = if $order.$thresholdbreak? then $order.$thresholdbreak else (100.0f),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Lasertower'">

                        <set_value name="$orderInfo.$name"          exact="@readtext.{1041}.{401}" />
                        <set_value name="$orderInfo.$description"   exact="@readtext.{1041}.{402}" />
                        <set_value name="$orderInfo.$script"        exact="'order.fight.lasertower'" />
                        <set_value name="$orderInfo.$category"      exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"      exact="true" />

                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Patrol'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{391}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{392}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.patrol'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$space" />

                        <append_to_list name="$params" exact="table[ $name = 'space',
                            $editable = if $order.isparameditable? then $order.isparameditable.space else false,
                            $value = if $order.$space? then $order.$space else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10007}
                        ]"/>
                        
                        <do_if value="@global.$shibimprovedpatrolinstalled">
                            <append_to_list name="$params" exact="table[ $name = 'shibimprovedpatrol',
                                $editable = if $order.isparameditable? then $order.isparameditable.shibimprovedpatrol else false,
                                $value = if $order.$shibimprovedpatrol? then $order.$shibimprovedpatrol else (false),
                                $required = false,
                                $advanced = false,
                                $type = 'bool',
                                $text = readtext.{7442343}.{101}
                            ]"/>
                        </do_if>

                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then $order.$range else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10094}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuetargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuetargets else false,
                            $value = if $order.$pursuetargets? then $order.$pursuetargets else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10091}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuedistance else false,
                            $value = if $order.$pursuedistance? then $order.$pursuedistance else ([@$ship.maxradarrange, 1km].max),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10090},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = [@$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'includeroute',
                            $editable = if $order.isparameditable? then $order.isparameditable.includeroute else false,
                            $value = if $order.$includeroute? then $order.$includeroute else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10151}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowothertargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowothertargets else false,
                            $value = if $order.$allowothertargets? then $order.$allowothertargets else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10037}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetpurposes',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetpurposes else false,
                            $value = if $order.$targetpurposes? then $order.$targetpurposes else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stayinspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.stayinspace else false,
                            $value = if $order.$stayinspace? then $order.$stayinspace else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.usebasket else false,
                            $value = if $order.$usebasket? then $order.$usebasket else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10170}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s, 
                                $max = 10h,
                                $step = 30s,
                                $startvalue = 15min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'engageonlyonline',
                            $editable = if $order.isparameditable? then $order.isparameditable.engageonlyonline else false,
                            $value = if $order.$engageonlyonline? then $order.$engageonlyonline else (false),
                            $required = false,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stayhidden',
                            $editable = if $order.isparameditable? then $order.isparameditable.stayhidden else false,
                            $value = if $order.$stayhidden? then $order.$stayhidden else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'organizesubordinates',
                            $editable = if $order.isparameditable? then $order.isparameditable.organizesubordinates else false,
                            $value = if $order.$organizesubordinates? then $order.$organizesubordinates else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Organize subordinates'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'defences_maxgatedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.defences_maxgatedistance else false,
                            $value = if $order.$defences_maxgatedistance? then $order.$defences_maxgatedistance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = 'Defence maxgatedistance',
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0, 
                                $max = 2,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'defences_includedassignments',
                            $editable = if $order.isparameditable? then $order.isparameditable.defences_includedassignments else false,
                            $value = if $order.$defences_includedassignments? then $order.$defences_includedassignments else ([assignment.defence, assignment.attack, assignment.interception, assignment.bombardment]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'checkrelation',
                            $editable = if $order.isparameditable? then $order.isparameditable.checkrelation else false,
                            $value = if $order.$checkrelation? then $order.$checkrelation else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10081}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'ProtectPosition'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{381}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{382}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.protect.position'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10008},
                            $inputparams = table[ 
                                $class = class.sector 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (@$ship.maxradarrange),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 1km,
                                $max = [@$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuetargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuetargets else false,
                            $value = if $order.$pursuetargets? then $order.$pursuetargets else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10091}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attackonsight',
                            $editable = if $order.isparameditable? then $order.isparameditable.attackonsight else false,
                            $value = if $order.$attackonsight? then $order.$attackonsight else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Attack on Sight'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'reinforcefleet',
                            $editable = if $order.isparameditable? then $order.isparameditable.reinforcefleet else false,
                            $value = if $order.$reinforcefleet? then $order.$reinforcefleet else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Reinforce Fleet'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'respondtodistresscalls',
                            $editable = if $order.isparameditable? then $order.isparameditable.respondtodistresscalls else false,
                            $value = if $order.$respondtodistresscalls? then $order.$respondtodistresscalls else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'resupplyatfleet',
                            $editable = if $order.isparameditable? then $order.isparameditable.resupplyatfleet else false,
                            $value = if $order.$resupplyatfleet? then $order.$resupplyatfleet else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Resupply at Fleet'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'flagship',
                            $editable = if $order.isparameditable? then $order.isparameditable.flagship else false,
                            $value = if $order.$flagship? then $order.$flagship else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = 'Flagship'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $max = 10h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'enforceradius',
                            $editable = if $order.isparameditable? then $order.isparameditable.enforceradius else false,
                            $value = if $order.$enforceradius? then $order.$enforceradius else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'ProtectShip'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{371}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{372}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.protect.ship'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10113},
                            $inputparams = table[ 
                                $class = [class.ship],
                                $attackcapacity = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (if @$ship.isclass.[class.ship_l, class.ship_xl] then (((@$ship.size + $target.size) / 2) + ([@$ship.maxspeed, 0.01m].max / ([@$ship.maxyawspeed, 0.01].max)m) * 2) 
                                              else [
                                                [
                                                  (
                                                    ((@$ship.size + @$order.$target.size) / 2) + 
                                                    ([@$ship.maxspeed, 0.01m].max / ([[@$ship.maxyawspeed, @$ship.maxpitchspeed].min, 0.01].max)m) * 2
                                                  ), 
                                                  (
                                                    ((@$ship.size + @$order.$target.size) / 2) + 
                                                    (
                                                      (pi / [@$ship.maxrollspeed, 0.01].max) + (pi / [@$ship.maxpitchspeed, 0.01].max)
                                                    )m * ([@$ship.maxspeed, 0.01m].max / 2)
                                                  )].min, 150m].max),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = @$ship.size + @$order.$target.size,
                                $max = @$ship.maxradarrange,
                                $step = 500m
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 10h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pursuedistance',
                            $editable = if $order.isparameditable? then $order.isparameditable.pursuedistance else false,
                            $value = if $order.$pursuedistance? then $order.$pursuedistance else ([@$order.$target.maxradarrange, @$ship.maxradarrange, 1km].max),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10090},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = [@$order.$target.maxradarrange, @$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'untilclaimed',
                            $editable = if $order.isparameditable? then $order.isparameditable.untilclaimed else false,
                            $value = if $order.$untilclaimed? then $order.$untilclaimed else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10136},
                            $inputparams = table[ 
                                $min = 1km, 
                                $max = [@$order.$target.maxradarrange, @$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'ProtectStation'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{361}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{362}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.protect.station'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$station.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'station',
                            $editable = if $order.isparameditable? then $order.isparameditable.station else false,
                            $value = if $order.$station? then $order.$station else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10150},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else ((@$ship.maxradarrange + $order.$station.size/2f)m),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = (1km + $order.$station.size/2f)m,
                                $max = (@$ship.maxradarrange + @order.$station.size/2f)m,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $max = 1h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'TacticalOrder'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{731}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{732}" />
                        <set_value name="$orderInfo.$script"            exact="'order.fight.tactical'" />
                        <set_value name="$orderInfo.$category"          exact="'coordination'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />
                        <set_value name="$orderInfo.$canplayercancel"   exact="true" />

                        <set_value name="$sector" exact="@$order.$selectedtarget.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'selectedtarget',
                            $editable = if $order.isparameditable? then $order.isparameditable.selectedtarget else false,
                            $value = if $order.$selectedtarget? then $order.$selectedtarget else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'aggressiveness',
                            $editable = true,
                            $value = if $order.$aggressiveness? then $order.$aggressiveness else (50),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10166},
                            $inputparams = table[ 
                                $min = 0h,
                                $max = 100,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'weakfirst',
                            $editable = true,
                            $value = if $order.$weakfirst? then $order.$weakfirst else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10167}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'xdistance',
                            $editable = true,
                            $value = if $order.$xdistance? then $order.$xdistance else ([[@$ship.defaultformationradius.{null}*3.0f, 3km].max, 20km].min),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 0km,
                                $max = 20km,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'zdistance',
                            $editable = true,
                            $value = if $order.$zdistance? then $order.$zdistance else (30km),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10062},
                            $inputparams = table[ 
                                $min = 5km,
                                $max = 50km,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = true,
                            $value = if $order.$timeout? then $order.$timeout else (1h),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0h,
                                $max = 5h,
                                $step = 1m
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'releasemove',
                            $editable = true,
                            $value = if $order.$releasemove? then $order.$releasemove else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10169}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = true,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'MiningCollect'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{561}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{562}" />
                        <set_value name="$orderInfo.$script"            exact="'order.mining.collect.ship'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ware',
                            $editable = if $order.isparameditable? then $order.isparameditable.ware else false,
                            $value = if $order.$ware? then $order.$ware else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10144},
                            $inputparams = table[ 
                                $mining = @$order.$destination,
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'secwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.secwares else false,
                            $value = if $order.$secwares? then $order.$secwares else ([]),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10110},
                            $inputparams = table[ 
                                $type = 'ware',
                                $mining = @$order.$destination,
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'time_started',
                            $editable = if $order.isparameditable? then $order.isparameditable.time_started else false,
                            $value = if $order.$time_started? then $order.$time_started else (player.age),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Time Started'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debug_eco',
                            $editable = if $order.isparameditable? then $order.isparameditable.debug_eco else false,
                            $value = if $order.$debug_eco? then $order.$debug_eco else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Eco Debugchance'
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'MiningPlayer'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{351}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{352}" />
                        <set_value name="$orderInfo.$script"            exact="'order.mining.player'" />
                        <set_value name="$orderInfo.$category"          exact="'mining'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (@$ship.maxradarrange),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 1km,
                                $max = [@$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'ware',
                            $editable = if $order.isparameditable? then $order.isparameditable.ware else false,
                            $value = if $order.$ware? then $order.$ware else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10144},
                            $inputparams = table[ 
                                $mining = @$order.$destination,
                                $cancarry = @$ship,
                                $isminable = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'secwares',
                            $editable = if $order.isparameditable? then $order.isparameditable.secwares else false,
                            $value = if $order.$secwares? then $order.$secwares else ([]),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10110},
                            $inputparams = table[ 
                                $type = 'ware',
                                $mining = @$order.$destination,
                                $cancarry = @$ship,
                                $isminable = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'MiningRoutine_Advanced'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{591}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{592}" />
                        <set_value name="$orderInfo.$script"            exact="'order.mining.routine.advanced'" />
                        <set_value name="$orderInfo.$category"          exact="'mining'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware',
                                $cancarry = @$ship,
                                $isminable = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if @$ship.commander.isclass.[class.station, class.buildstorage] then 
                                                @$ship.commander.sector 
                                            else 
                                                (
                                                if @$ship.jobmainsector then 
                                                    @$ship.jobmainsector 
                                                else 
                                                    @$ship.sector
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10067}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else ([([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) , 0].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10056},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) , 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10069}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else ([([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) , 0].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10058},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) , 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s, 
                                $max = 24h,
                                $step = 1min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10142},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'MiningRoutine_Basic'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{611}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{612}" />
                        <set_value name="$orderInfo.$script"            exact="'order.mining.routine.basic'" />
                        <set_value name="$orderInfo.$category"          exact="'mining'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (@$ship.warebasket.random),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10144},
                            $inputparams = table[ 
                                $cancarry = @$ship,
                                $isminable = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if @$ship.commander.isclass.[class.station, class.buildstorage] then 
                                                @$ship.commander.sector 
                                            else 
                                                (
                                                if @$ship.jobmainsector then 
                                                    @$ship.jobmainsector 
                                                else 
                                                    (
                                                    if @$ship.sector.resources.{@$order.$warebasket}.exists then 
                                                        @$ship.sector 
                                                    else 
                                                        null
                                                    )
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005},
                            $inputparams = table[ 
                                $hasresources = if @$order.$warebasket.count then $order.$warebasket else [$order.$warebasket]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10067}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10056}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10069}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10058}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s, 
                                $max = 24h, 
                                $step = 1min 
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10142},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'MiningRoutine_Expert'">
                        
                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{601}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{602}" />
                        <set_value name="$orderInfo.$script"            exact="'order.mining.routine.expert'" />
                        <set_value name="$orderInfo.$category"          exact="'mining'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware',
                                $cancarry = @$ship,
                                $isminable = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if @$ship.commander.isclass.[class.station, class.buildstorage] then 
                                                @$ship.commander.sector 
                                            else 
                                                (
                                                if @$ship.jobmainsector then 
                                                    @$ship.jobmainsector 
                                                else 
                                                    @$ship.sector
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10067},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [[@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max - 1, 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else ([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10056},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10069},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [[@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max - 1, 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else ([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10058},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s, 
                                $max = 24h, 
                                $step = 1min 
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10142},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'MiningRoutine'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{341}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{342}" />
                        <set_value name="$orderInfo.$script"            exact="'order.mining.routine'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware',
                                $cancarry = @$ship,
                                $isminable = true,
                                $canplayeroverride = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if @$ship.commander.jobmainsector then 
                                                $ship.commander.jobmainsector
                                            else 
                                                (
                                                if @$ship.commander.isclass.[class.station, class.buildstorage] then 
                                                    @$ship.commander.sector
                                                else 
                                                    (
                                                    if @$ship.jobmainsector then 
                                                        @$ship.jobmainsector
                                                    else 
                                                        @$ship.sector
                                                    )
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10067},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) - 1, 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10056},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10069},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) - 1, 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10058},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deepspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.deepspace else false,
                            $value = if $order.$deepspace? then $order.$deepspace else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10082}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'resourcescout',
                            $editable = if $order.isparameditable? then $order.isparameditable.resourcescout else false,
                            $value = if $order.$resourcescout? then $order.$resourcescout else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10109}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s, 
                                $max = 24h, 
                                $step = 1min 
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'endtime',
                            $editable = if $order.isparameditable? then $order.isparameditable.endtime else false,
                            $value = if $order.$endtime? then $order.$endtime else (0s),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'effectiveskill',
                            $editable = if $order.isparameditable? then $order.isparameditable.effectiveskill else false,
                            $value = if $order.$effectiveskill? then $order.$effectiveskill else (@$ship.combinedskill),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'preferownspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.preferownspace else false,
                            $value = if $order.$preferownspace? then $order.$preferownspace else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'warebasket_override',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket_override else false,
                            $value = if $order.$warebasket_override? then $order.$warebasket_override else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = '',
                            $inputparams = table[ 
                                $type = 'ware',
                                $uitype = 'list',
                                $cancarry = @$ship,
                                $optionsource = 'commanderwarebasket'
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10142},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'MoveDie'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{331}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{332}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.die'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'mintime',
                            $editable = if $order.isparameditable? then $order.isparameditable.mintime else false,
                            $value = if $order.$mintime? then $order.$mintime else (0s),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10073}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'atstation',
                            $editable = if $order.isparameditable? then $order.isparameditable.atstation else false,
                            $value = if $order.$atstation? then $order.$atstation else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = 'At station',
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'byhighway',
                            $editable = if $order.isparameditable? then $order.isparameditable.byhighway else false,
                            $value = if $order.$byhighway? then $order.$byhighway else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10018}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'byhostile',
                            $editable = if $order.isparameditable? then $order.isparameditable.byhostile else false,
                            $value = if $order.$byhostile? then $order.$byhostile else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10019}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'byidle',
                            $editable = if $order.isparameditable? then $order.isparameditable.byidle else false,
                            $value = if $order.$byidle? then $order.$byidle else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10020}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Follow'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{321}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{322}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.follow'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10112},
                            $inputparams = table[ 
                                $class = [class.ship]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'commandaction',
                            $editable = if $order.isparameditable? then $order.isparameditable.commandaction else false,
                            $value = if $order.$commandaction? then $order.$commandaction else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'MoveToPlanet'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{741}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{742}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.planet'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'direction',
                            $editable = if $order.isparameditable? then $order.isparameditable.direction else false,
                            $value = if $order.$direction? then $order.$direction else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'distance',
                            $editable = if $order.isparameditable? then $order.isparameditable.distance else false,
                            $value = if $order.$distance? then $order.$distance else (200km),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Explore'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{311}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{312}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.recon.explore'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'targetspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetspace else false,
                            $value = if $order.$targetspace? then $order.$targetspace else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $class = [class.sector, class.gate, class.highwayentrygate]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10006},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (350km),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 0m,
                                $max = 350km,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 24h,
                                $step = 10min
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deploysatellites',
                            $editable = if $order.isparameditable? then $order.isparameditable.deploysatellites else false,
                            $value = if $order.$deploysatellites? then $order.$deploysatellites else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Deploy Satellites'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Police'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{671}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{672}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.recon.police'" />
                        <set_value name="$orderInfo.$category"          exact="'combat'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$targetspace" />

                        <append_to_list name="$params" exact="table[ $name = 'targetspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetspace else false,
                            $value = if $order.$targetspace? then $order.$targetspace else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10007},
                            $inputparams = table[ 
                                $class = [class.sector, class.gate, class.highwayentrygate],
                                $owner = if $ship != null then $ship.trueowner else faction.player
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 24h,
                                $step = 10min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hq',
                            $editable = if $order.isparameditable? then $order.isparameditable.hq else false,
                            $value = if $order.$hq? then $order.$hq else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10045},
                            $inputparams = table[ 
                                $class = [class.station, class.ship],
                                $canbecommanderof = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([class.ship_s, class.ship_m, class.ship_l, class.ship_xl, class.station]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetpurposes',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetpurposes else false,
                            $value = if $order.$targetpurposes? then $order.$targetpurposes else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deploysatellites',
                            $editable = if $order.isparameditable? then $order.isparameditable.deploysatellites else false,
                            $value = if $order.$deploysatellites? then $order.$deploysatellites else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Deploy Satellites'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'ExploreUpdate'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{301}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{302}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.recon.update'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'targetspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetspace else false,
                            $value = if $order.$targetspace? then $order.$targetspace else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $class = [class.sector, class.gate, class.highwayentrygate]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10117},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (350km),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 0m,
                                $max = 350km,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 24h,
                                $step = 10min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([class.station]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deploysatellites',
                            $editable = if $order.isparameditable? then $order.isparameditable.deploysatellites else false,
                            $value = if $order.$deploysatellites? then $order.$deploysatellites else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Deploy Satellites'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Recon'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{291}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{292}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.recon'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <set_value name="$sector" exact="@$order.$targetspace" />

                        <append_to_list name="$params" exact="table[ $name = 'targetspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetspace else false,
                            $value = if $order.$targetspace? then $order.$targetspace else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10117},
                            $inputparams = table[ 
                                $class = [class.sector, class.gate, class.highwayentrygate]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 24h,
                                $step = 10min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hq',
                            $editable = if $order.isparameditable? then $order.isparameditable.hq else false,
                            $value = if $order.$hq? then $order.$hq else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10045},
                            $inputparams = table[ 
                                $class = [class.station, class.ship],
                                $canbecommanderof = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetclasses',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetclasses else false,
                            $value = if $order.$targetclasses? then $order.$targetclasses else ([class.ship, class.station]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'targetpurposes',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetpurposes else false,
                            $value = if $order.$targetpurposes? then $order.$targetpurposes else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'police',
                            $editable = if $order.isparameditable? then $order.isparameditable.police else false,
                            $value = if $order.$police? then $order.$police else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10084}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'exploreupdate',
                            $editable = if $order.isparameditable? then $order.isparameditable.exploreupdate else false,
                            $value = if $order.$exploreupdate? then $order.$exploreupdate else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10137}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'resourcescout',
                            $editable = if $order.isparameditable? then $order.isparameditable.resourcescout else false,
                            $value = if $order.$resourcescout? then $order.$resourcescout else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10109}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'blindtourist',
                            $editable = if $order.isparameditable? then $order.isparameditable.blindtourist else false,
                            $value = if $order.$blindtourist? then $order.$blindtourist else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10039}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deploysatellites',
                            $editable = if $order.isparameditable? then $order.isparameditable.deploysatellites else false,
                            $value = if $order.$deploysatellites? then $order.$deploysatellites else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = 'Deploy Satellites'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'Taxi'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{271}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{272}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.taxi'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10117}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'MoveToObject'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{261}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{262}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.wait.object'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = [class.object]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 10h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else ($isplayerowned and @$ship.nextorder and (@$ship.nextorder.id == 'Attack' or @$ship.nextorder.id == 'Flee' or @$ship.nextorder.$noattackresponse) and not @$ship.order.isinloop),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fidget',
                            $editable = if $order.isparameditable? then $order.isparameditable.fidget else false,
                            $value = if $order.$fidget? then $order.$fidget else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'joinfleet',
                            $editable = if $order.isparameditable? then $order.isparameditable.joinfleet else false,
                            $value = if $order.$joinfleet? then $order.$joinfleet else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stopondetect',
                            $editable = if $order.isparameditable? then $order.isparameditable.stopondetect else false,
                            $value = if $order.$stopondetect? then $order.$stopondetect else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>
                    
                    <do_elseif value="$orderid == 'MoveWait'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{251}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{252}" />
                        <set_value name="$orderInfo.$script"            exact="'order.move.wait'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 10h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'withdraw',
                            $editable = if $order.isparameditable? then $order.isparameditable.withdraw else false,
                            $value = if $order.$withdraw? then $order.$withdraw else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10147}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'precise',
                            $editable = if $order.isparameditable? then $order.isparameditable.precise else false,
                            $value = if $order.$precise? then $order.$precise else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'playerprecise',
                            $editable = if $order.isparameditable? then $order.isparameditable.playerprecise else false,
                            $value = if $order.$playerprecise? then $order.$playerprecise else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'waitforatgate',
                            $editable = if $order.isparameditable? then $order.isparameditable.waitforatgate else false,
                            $value = if $order.$waitforatgate? then $order.$waitforatgate else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'recallsubordinates',
                            $editable = if $order.isparameditable? then $order.isparameditable.recallsubordinates else false,
                            $value = if $order.$recallsubordinates? then $order.$recallsubordinates else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'lookat',
                            $editable = if $order.isparameditable? then $order.isparameditable.lookat else false,
                            $value = if $order.$lookat? then $order.$lookat else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fidget',
                            $editable = if $order.isparameditable? then $order.isparameditable.fidget else false,
                            $value = if $order.$fidget? then $order.$fidget else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noboost',
                            $editable = if $order.isparameditable? then $order.isparameditable.noboost else false,
                            $value = if $order.$noboost? then $order.$noboost else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'PlayerAttack'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{241}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{242}" />
                        <set_value name="$orderInfo.$script"            exact="'order.player.attack'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'secondarytargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.secondarytargets else false,
                            $value = if $order.$secondarytargets? then $order.$secondarytargets else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10149},
                            $inputparams = table[ 
                                $type = 'object' 
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'escort',
                            $editable = if $order.isparameditable? then $order.isparameditable.escort else false,
                            $value = if $order.$escort? then $order.$escort else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10038}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'squad_attack',
                            $editable = if $order.isparameditable? then $order.isparameditable.squad_attack else false,
                            $value = if $order.$squad_attack? then $order.$squad_attack else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10118}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowothertargets',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowothertargets else false,
                            $value = if $order.$allowothertargets? then $order.$allowothertargets else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10010}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'checkrelation',
                            $editable = if $order.isparameditable? then $order.isparameditable.checkrelation else false,
                            $value = if $order.$checkrelation? then $order.$checkrelation else ( if $ship  != null and @$order.$target != null then @$ship.mayattack.{@$order.$target} else false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10081}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Plunder'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{231}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{232}" />
                        <set_value name="$orderInfo.$script"            exact="'order.plunder'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />

                        <append_to_list name="$params" exact="table[ $name = 'space',
                            $editable = if $order.isparameditable? then $order.isparameditable.space else false,
                            $value = if $order.$space? then $order.$space else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10117},
                            $inputparams = table[ 
                                $class = [class.cluster, class.sector, class.zone, class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'base',
                            $editable = if $order.isparameditable? then $order.isparameditable.base else false,
                            $value = if $order.$base? then $order.$base else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10012},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'returntobase',
                            $editable = if $order.isparameditable? then $order.isparameditable.returntobase else false,
                            $value = if $order.$returntobase? then $order.$returntobase else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10105}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'findbaseowner',
                            $editable = if $order.isparameditable? then $order.isparameditable.findbaseowner else false,
                            $value = if $order.$findbaseowner? then $order.$findbaseowner else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'basebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.basebasket else false,
                            $value = if $order.$basebasket? then $order.$basebasket else (if @$ship.warebasket.count then $ship.warebasket.list else null),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware',
                                $cancarry = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'forcetransfer',
                            $editable = if $order.isparameditable? then $order.isparameditable.forcetransfer else false,
                            $value = if $order.$forcetransfer? then $order.$forcetransfer else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'deepspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.deepspace else false,
                            $value = if $order.$deepspace? then $order.$deepspace else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10082}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'checkrelation',
                            $editable = if $order.isparameditable? then $order.isparameditable.checkrelation else false,
                            $value = if $order.$checkrelation? then $order.$checkrelation else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10081}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'plundermode',
                            $editable = if $order.isparameditable? then $order.isparameditable.plundermode else false,
                            $value = if $order.$plundermode? then $order.$plundermode else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10083}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range_internal',
                            $editable = if $order.isparameditable? then $order.isparameditable.range_internal else false,
                            $value = if $order.$range_internal? then $order.$range_internal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10044},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'module',
                            $editable = if $order.isparameditable? then $order.isparameditable.module else false,
                            $value = if $order.$module? then $order.$module else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10043}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'movetomodule',
                            $editable = if $order.isparameditable? then $order.isparameditable.movetomodule else false,
                            $value = if $order.$movetomodule? then $order.$movetomodule else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10075}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'RecallSubordinates'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{221}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{222}" />
                        <set_value name="$orderInfo.$script"            exact="'order.recall.subordinates'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (15min),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 24h,
                                $step = 30s
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'activepatrol',
                            $editable = if $order.isparameditable? then $order.isparameditable.activepatrol else false,
                            $value = if $order.$activepatrol? then $order.$activepatrol else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10002}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'position',
                            $text = 'Position',
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'safetodockat',
                            $editable = if $order.isparameditable? then $order.isparameditable.safetodockat else false,
                            $value = if $order.$safetodockat? then $order.$safetodockat else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10078}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'RecycleDefault'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{721}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{722}" />
                        <set_value name="$orderInfo.$script"            exact="'order.recycle.default'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'preferredstation',
                            $editable = if $order.isparameditable? then $order.isparameditable.preferredstation else false,
                            $value = if $order.$preferredstation? then $order.$preferredstation else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'stationstoavoid',
                            $editable = if $order.isparameditable? then $order.isparameditable.stationstoavoid else false,
                            $value = if $order.$stationstoavoid? then $order.$stationstoavoid else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'Repair'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{211}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{212}" />
                        <set_value name="$orderInfo.$script"            exact="'order.repair'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = [class.station],
                                $hasbuildmodule = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hullpercent',
                            $editable = if $order.isparameditable? then $order.isparameditable.hullpercent else false,
                            $value = if $order.$hullpercent? then $order.$hullpercent else (@$ship.hullpercentage),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10046},
                            $inputparams = table[ 
                                $max = 100,
                                $min = @$ship.hullpercentage,
                                $startvalue = @$ship.hullpercentage
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'damagedcomponents',
                            $editable = if $order.isparameditable? then $order.isparameditable.damagedcomponents else false,
                            $value = if $order.$damagedcomponents? then $order.$damagedcomponents else ([]),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10122},
                            $inputparams = table[ 
                                $type = 'object',
                                $class = [class.destructible],
                                $context = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'repairall',
                            $editable = if $order.isparameditable? then $order.isparameditable.repairall else false,
                            $value = if $order.$repairall? then $order.$repairall else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10100}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'acceptedcost',
                            $editable = if $order.isparameditable? then $order.isparameditable.acceptedcost else false,
                            $value = if $order.$acceptedcost? then $order.$acceptedcost else (if $ship != null then (if $isplayerowned then @$ship.repairprice else -1Cr) else 0Cr),
                            $required = true,
                            $advanced = true,
                            $type = 'money',
                            $text = readtext.{1041}.{10099}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'urgent',
                            $editable = if $order.isparameditable? then $order.isparameditable.urgent else false,
                            $value = if $order.$urgent? then $order.$urgent else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10138}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'blacklist_stations',
                            $editable = if $order.isparameditable? then $order.isparameditable.blacklist_stations else false,
                            $value = if $order.$blacklist_stations? then $order.$blacklist_stations else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10120}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinaterepairorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinaterepairorders else false,
                            $value = if $order.$subordinaterepairorders? then $order.$subordinaterepairorders else (table[]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'subordinateorders',
                            $editable = if $order.isparameditable? then $order.isparameditable.subordinateorders else false,
                            $value = if $order.$subordinateorders? then $order.$subordinateorders else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'RescueInRange'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{901}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{902}" />
                        <set_value name="$orderInfo.$script"            exact="'order.rescue.inrange'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10176},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (@$ship.maxradarrange),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 1km,
                                $max = [@$ship.maxradarrange, 1km].max,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'RescueShip'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{891}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{892}" />
                        <set_value name="$orderInfo.$script"            exact="'order.rescue.ship'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $class = [class.spacesuit],
                                $owner = if $ship != null then $ship.trueowner else faction.player
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (not $isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'GetSupplies'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{621}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{622}" />
                        <set_value name="$orderInfo.$script"            exact="'order.restock.getsupplies'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />

                        <append_to_list name="$params" exact="table[ $name = 'maxsearchrange',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsearchrange else false,
                            $value = if $order.$maxsearchrange? then $order.$maxsearchrange else ([if (@$ship.pilot.skill.piloting == 15) then @$ship.pilot.skill.piloting else (@$ship.pilot.skill.piloting / 3), 1].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10054},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [if (@$ship.pilot.skill.piloting == 15) then @$ship.pilot.skill.piloting else (@$ship.pilot.skill.piloting / 3), 1].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'anchorsector',
                            $editable = if $order.isparameditable? then $order.isparameditable.anchorsector else false,
                            $value = if $order.$anchorsector? then $order.$anchorsector else (if not @$ship.zone.isclass.highway then @$ship.sector else @$ship.zone.destination.sector),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10059}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'RestockSubordinates'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{201}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{202}" />
                        <set_value name="$orderInfo.$script"            exact="'order.restock.subordinates'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <append_to_list name="$params" exact="table[ $name = 'init',
                            $editable = if $order.isparameditable? then $order.isparameditable.init else false,
                            $value = if $order.$init? then $order.$init else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10047}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'jumps',
                            $editable = if $order.isparameditable? then $order.isparameditable.jumps else false,
                            $value = if $order.$jumps? then $order.$jumps else (-1),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10048}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Resupply'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{191}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{192}" />
                        <set_value name="$orderInfo.$script"            exact="'order.restock'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <append_to_list name="$params" exact="table[ $name = 'repair',
                            $editable = if $order.isparameditable? then $order.isparameditable.repair else false,
                            $value = if $order.$repair? then $order.$repair else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10098}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'hullpercent',
                            $editable = if $order.isparameditable? then $order.isparameditable.hullpercent else false,
                            $value = if $order.$hullpercent? then $order.$hullpercent else (100),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10046},
                            $inputparams = table[ 
                                $max = 100,
                                $min = @$ship.hullpercentage,
                                $startvalue = @$ship.hullpercentage
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'damagedcomponents',
                            $editable = if $order.isparameditable? then $order.isparameditable.damagedcomponents else false,
                            $value = if $order.$damagedcomponents? then $order.$damagedcomponents else ([]),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10122},
                            $inputparams = table[ 
                                $type = 'object',
                                $class = [class.destructible],
                                $context = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'repairall',
                            $editable = if $order.isparameditable? then $order.isparameditable.repairall else false,
                            $value = if $order.$repairall? then $order.$repairall else (true),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10100}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'repaircost',
                            $editable = if $order.isparameditable? then $order.isparameditable.repaircost else false,
                            $value = if $order.$repaircost? then $order.$repaircost else (@$ship.repairprice),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10099}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'resupply_ammo',
                            $editable = if $order.isparameditable? then $order.isparameditable.resupply_ammo else false,
                            $value = if $order.$resupply_ammo? then $order.$resupply_ammo else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10101}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'resupply_units',
                            $editable = if $order.isparameditable? then $order.isparameditable.resupply_units else false,
                            $value = if $order.$resupply_units? then $order.$resupply_units else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10103}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'restock_subordinates',
                            $editable = if $order.isparameditable? then $order.isparameditable.restock_subordinates else false,
                            $value = if $order.$restock_subordinates? then $order.$restock_subordinates else (if $ship != null then $ship.isjobship else false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10102}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'param_station',
                            $editable = if $order.isparameditable? then $order.isparameditable.param_station else false,
                            $value = if $order.$param_station? then $order.$param_station else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'urgent',
                            $editable = if $order.isparameditable? then $order.isparameditable.urgent else false,
                            $value = if $order.$urgent? then $order.$urgent else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10138}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'blacklist_stations',
                            $editable = if $order.isparameditable? then $order.isparameditable.blacklist_stations else false,
                            $value = if $order.$blacklist_stations? then $order.$blacklist_stations else ([]),
                            $required = true,
                            $advanced = true,
                            $type = 'list',
                            $text = readtext.{1041}.{10120},
                            $inputparams = table[ 
                                $type = 'object',
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'onlyuseresupplierships',
                            $editable = if $order.isparameditable? then $order.isparameditable.onlyuseresupplierships else false,
                            $value = if $order.$onlyuseresupplierships? then $order.$onlyuseresupplierships else ($isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SalvageCollect'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{801}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{802}" />
                        <set_value name="$orderInfo.$script"            exact="'order.salvage.collect'" />
                        <set_value name="$orderInfo.$category"          exact="'salvage'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $canbetowed = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (not $isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SalvageCrush'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{831}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{832}" />
                        <set_value name="$orderInfo.$script"            exact="'order.salvage.crush'" />
                        <set_value name="$orderInfo.$category"          exact="'salvage'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10126},
                            $inputparams = table[ 
                                $canbedismantled = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (not $isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SalvageDeliver_NoTrade'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{811}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{812}" />
                        <set_value name="$orderInfo.$script"            exact="'order.salvage.deliver.notrade'" />
                        <set_value name="$orderInfo.$category"          exact="'salvage'" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (not $isplayerowned),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SalvageDeliver'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{811}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{812}" />
                        <set_value name="$orderInfo.$script"            exact="'order.salvage.deliver'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (not $isplayerowned),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'SalvageInRadius'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{871}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{872}" />
                        <set_value name="$orderInfo.$script"            exact="'order.salvage.radius'" />
                        <set_value name="$orderInfo.$category"          exact="'salvage'" />

                        <set_value name="$sector" exact="@$order.$destination.{1}" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then @$ship.warebasket.list else [ware.rawscrap]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10146}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (@$ship.maxradarrange),
                            $required = true,
                            $advanced = false,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 1km,
                                $max = @$ship.maxradarrange,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SalvageRoutine'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{821}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{822}" />
                        <set_value name="$orderInfo.$script"            exact="'order.salvage.routine'" />
                        <set_value name="$orderInfo.$category"          exact="'salvage'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$anchorspace" />

                        <append_to_list name="$params" exact="table[ $name = 'anchorspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.anchorspace else false,
                            $value = if $order.$anchorspace? then $order.$anchorspace else (if @$ship.jobmainsector then @$ship.jobmainsector else (if @$ship.commander.sector then @$shipship.commander else @$ship)),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005},
                            $inputparams = table[ 
                                $class = [class.sector, class.station, class.ship]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then $order.$range else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10062},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s,
                                $max = 24h,
                                $step = 1min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then @$ship.warebasket.list else [ware.rawscrap]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10146}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SupplyFleet'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{641}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{642}" />
                        <set_value name="$orderInfo.$script"            exact="'order.supply'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$target.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'target',
                            $editable = if $order.isparameditable? then $order.isparameditable.target else false,
                            $value = if $order.$target? then $order.$target else (@$ship.commander),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10024},
                            $inputparams = table[ 
                                $class = [class.ship, class.station],
                                $canbecommanderof = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'position',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'formation',
                            $editable = if $order.isparameditable? then $order.isparameditable.formation else false,
                            $value = if $order.$formation? then $order.$formation else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'formationshape',
                            $text = readtext.{1041}.{10042}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'formationparam',
                            $editable = if $order.isparameditable? then $order.isparameditable.formationparam else false,
                            $value = if $order.$formationparam? then $order.$formationparam else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10040},
                            $inputparams = table[ 
                                $min = if @$order.$target.isclass.ship then (@$ship.size + @$order.$target.size) else null,
                                $max = if @$order.$target.isclass.ship then [[@$order.$target.formationradius * 2, @$ship.defaultformationradius.{@$order.$target} * 2, 2km].max, 5km].min else null,
                                $step = 100m
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'rollmembers',
                            $editable = if $order.isparameditable? then $order.isparameditable.rollmembers else false,
                            $value = if $order.$rollmembers? then $order.$rollmembers else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10107}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'rollformation',
                            $editable = if $order.isparameditable? then $order.isparameditable.rollformation else false,
                            $value = if $order.$rollformation? then $order.$rollformation else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10106}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxshipsperline',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxshipsperline else false,
                            $value = if $order.$maxshipsperline? then $order.$maxshipsperline else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10060},
                            $inputparams = table[ 
                                $min = 3,
                                $max = 50,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 10h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'overrideformationskill',
                            $editable = if $order.isparameditable? then $order.isparameditable.overrideformationskill else false,
                            $value = if $order.$overrideformationskill? then $order.$overrideformationskill else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'releasesignal',
                            $editable = if $order.isparameditable? then $order.isparameditable.releasesignal else false,
                            $value = if $order.$releasesignal? then $order.$releasesignal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'CrewExchangePassive'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{681}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{682}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.crewexchange.passive'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'overridepassive',
                            $editable = if $order.isparameditable? then $order.isparameditable.overridepassive else false,
                            $value = if $order.$overridepassive? then $order.$overridepassive else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'CrewExchange'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{681}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{682}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.crewexchange'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'overridepassive',
                            $editable = if $order.isparameditable? then $order.isparameditable.overridepassive else false,
                            $value = if $order.$overridepassive? then $order.$overridepassive else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'DepositInventory'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{651}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{652}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.depositinventory'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />

                        <set_value name="$sector" exact="@$order.$destination.sector" />

                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = if not @$ship.iscapitalship then [class.station, class.ship_m, class.ship_l, class.ship_xl] else [class.station, class.ship_l, class.ship_xl]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'Middleman'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{181}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{182}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.middleman'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$anchorspace" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware',
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'anchorspace',
                            $editable = if $order.isparameditable? then $order.isparameditable.anchorspace else false,
                            $value = if $order.$anchorspace? then $order.$anchorspace else (if @$ship.jobmainsector then $ship.jobmainsector else null),
                            $required = true,
                            $advanced = true,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then $order.$range else (32),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10063},
                            $inputparams = table[ 
                                $startvalue = 32,
                                $min = 1,
                                $max = 32,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'tradeware',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradeware else false,
                            $value = if $order.$tradeware? then $order.$tradeware else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10087}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'relprice_purchase',
                            $editable = if $order.isparameditable? then $order.isparameditable.relprice_purchase else false,
                            $value = if $order.$relprice_purchase? then $order.$relprice_purchase else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10088}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'supplier',
                            $editable = if $order.isparameditable? then $order.isparameditable.supplier else false,
                            $value = if $order.$supplier? then $order.$supplier else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10125}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s,
                                $max = 24h,
                                $step = 1min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'endtime',
                            $editable = if $order.isparameditable? then $order.isparameditable.endtime else false,
                            $value = if $order.$endtime? then $order.$endtime else (0s),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'aggressiveness',
                            $editable = if $order.isparameditable? then $order.isparameditable.aggressiveness else false,
                            $value = if $order.$aggressiveness? then $order.$aggressiveness else (1.0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'holdbuyprice',
                            $editable = if $order.isparameditable? then $order.isparameditable.holdbuyprice else false,
                            $value = if $order.$holdbuyprice? then $order.$holdbuyprice else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TradePerform'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{171}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{172}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.perform'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'TradeRoutine_Advanced'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{851}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{852}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.routine.advanced'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else null),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10146},
                            $inputparams = table[ 
                                $type = 'ware',
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if @$ship.commander.isclass.[class.station, class.buildstorage] then 
                                                $ship.commander.sector 
                                            else 
                                                (
                                                if @$ship.jobmainsector then 
                                                    $ship.jobmainsector 
                                                else 
                                                    @$ship.sector
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10067}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else ([([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10054},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10069}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else ([([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10058},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s,
                                $max = 24h,
                                $step = 1min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'tradeforbuildstorage',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradeforbuildstorage else false,
                            $value = if $order.$tradeforbuildstorage? then $order.$tradeforbuildstorage else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usecover',
                            $editable = if $order.isparameditable? then $order.isparameditable.usecover else false,
                            $value = if $order.$usecover? then $order.$usecover else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Use Cover'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TradeRoutine_Basic'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{841}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{842}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.routine.basic'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (@$ship.warebasket.random),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10144},
                            $inputparams = table[ 
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if @$ship.commander.isclass.[class.station, class.buildstorage] then 
                                                $ship.commander.sector 
                                            else 
                                                (
                                                if @$ship.jobmainsector then 
                                                    $ship.jobmainsector 
                                                else 
                                                    (
                                                    if @$ship.sector.resources.{@$order.$warebasket}.exists then 
                                                        $ship.sector 
                                                    else 
                                                        null
                                                    )
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10067}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10056}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10069}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10058}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s,
                                $max = 24h,
                                $step = 1min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'tradeforbuildstorage',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradeforbuildstorage else false,
                            $value = if $order.$tradeforbuildstorage? then $order.$tradeforbuildstorage else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usecover',
                            $editable = if $order.isparameditable? then $order.isparameditable.usecover else false,
                            $value = if $order.$usecover? then $order.$usecover else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Use Cover'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TradeRoutine'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{161}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{162}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.routine'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <set_value name="$sector" exact="@$order.$range" />

                        <append_to_list name="$params" exact="table[ $name = 'warebasket',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket else false,
                            $value = if $order.$warebasket? then $order.$warebasket else (if @$ship.warebasket.count then $ship.warebasket.list else []),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10179},
                            $inputparams = table[ 
                                $type = 'ware',
                                $canplayeroverride = true,
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'range',
                            $editable = if $order.isparameditable? then $order.isparameditable.range else false,
                            $value = if $order.$range? then 
                                        $order.$range 
                                    else 
                                        (
                                        if @$ship.commanderentity.$config_subordinate_range then 
                                            @$ship.commanderentity.$config_subordinate_range 
                                        else 
                                            (
                                            if (@$ship.commander.sector.exists and (@$ship.commander.isclass.[class.station, class.buildstorage] or @$ship.commander.type == shiptype.resupplier)) then 
                                                @$ship.commander.sector 
                                            else 
                                                (
                                                if @$ship.jobmainsector then 
                                                    @$ship.jobmainsector 
                                                else 
                                                    @$ship.sector
                                                )
                                            )
                                        ),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10005}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.minbuy else false,
                            $value = if $order.$minbuy? then $order.$minbuy else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10066},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) - 1, 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxbuy',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxbuy else false,
                            $value = if $order.$maxbuy? then $order.$maxbuy else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10054},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.minsell else false,
                            $value = if $order.$minsell? then $order.$minsell else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10068},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3) - 1, 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxsell',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxsell else false,
                            $value = if $order.$maxsell? then $order.$maxsell else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10057},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = [([@$ship.commander.tradenpc.skill.management, @$ship.pilot.skill.piloting].max / 3), 0].max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'duration',
                            $editable = if $order.isparameditable? then $order.isparameditable.duration else false,
                            $value = if $order.$duration? then $order.$duration else (0s),
                            $required = true,
                            $advanced = true,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $startvalue = 0s,
                                $min = 0s,
                                $max = 24h,
                                $step = 1min
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'endtime',
                            $editable = if $order.isparameditable? then $order.isparameditable.endtime else false,
                            $value = if $order.$endtime? then $order.$endtime else (0s),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'tradeforbuildstorage',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradeforbuildstorage else false,
                            $value = if $order.$tradeforbuildstorage? then $order.$tradeforbuildstorage else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'usecover',
                            $editable = if $order.isparameditable? then $order.isparameditable.usecover else false,
                            $value = if $order.$usecover? then $order.$usecover else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Use Cover'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'preferredcoverfactions',
                            $editable = if $order.isparameditable? then $order.isparameditable.preferredcoverfactions else false,
                            $value = if $order.$preferredcoverfactions? then $order.$preferredcoverfactions else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'buyfromfactions',
                            $editable = if $order.isparameditable? then $order.isparameditable.buyfromfactions else false,
                            $value = if $order.$buyfromfactions? then $order.$buyfromfactions else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'selltofactions',
                            $editable = if $order.isparameditable? then $order.isparameditable.selltofactions else false,
                            $value = if $order.$selltofactions? then $order.$selltofactions else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'warebasket_override',
                            $editable = if $order.isparameditable? then $order.isparameditable.warebasket_override else false,
                            $value = if $order.$warebasket_override? then $order.$warebasket_override else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = '',
                            $inputparams = table[ 
                                $type = 'ware',
                                $uitype = 'list',
                                $cancarry = @$ship,
                                $optionsource = 'commanderwarebasket'
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance2',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance2 else false,
                            $value = if $order.$debugchance2? then $order.$debugchance2 else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'SingleBuy'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{151}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{152}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.single.buy'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />

                        <append_to_list name="$params" exact="table[ $name = 'ware',
                            $editable = if $order.isparameditable? then $order.isparameditable.ware else false,
                            $value = if $order.$ware? then $order.$ware else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10145},
                            $inputparams = table[ 
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'centerpos',
                            $editable = if $order.isparameditable? then $order.isparameditable.centerpos else false,
                            $value = if $order.$centerpos? then $order.$centerpos else (if @$ship.sector then [$ship.sector, $ship.sector.coreposition] else null),
                            $required = true,
                            $advanced = true,
                            $type = 'position',
                            $text = readtext.{1041}.{10085},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (if @$ship.sector then $ship.sector.coresize / 2m else null),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 0m,
                                $max = @$ship.sector.coresize,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'locations',
                            $editable = if $order.isparameditable? then $order.isparameditable.locations else false,
                            $value = if $order.$locations? then $order.$locations else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10049},
                            $inputparams = table[ 
                                $type = 'object',
                                $class = [class.station, class.cluster, class.sector],
                                $hasselloffer = @$order.$ware
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxamount',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxamount else false,
                            $value = if $order.$maxamount? then $order.$maxamount else (@$ship.cargo.{@order.$ware}.max),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10164},
                            $inputparams = table[ 
                                $startvalue = @$ship.cargo.{@$order.$ware}.max,
                                $min = 0,
                                $max = @$ship.cargo.{@$order.$ware}.max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minamount',
                            $editable = if $order.isparameditable? then $order.isparameditable.minamount else false,
                            $value = if $order.$minamount? then $order.$minamount else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10065},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = @$ship.cargo.{@$order.$ware}.max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pricethreshold',
                            $editable = if $order.isparameditable? then $order.isparameditable.pricethreshold else false,
                            $value = if $order.$pricethreshold? then $order.$pricethreshold else (((@$order.$ware.averageprice * 99 / 100) / 1Cr)Cr),
                            $required = true,
                            $advanced = false,
                            $type = 'money',
                            $text = readtext.{1041}.{10059},
                            $inputparams = table[ 
                                $startvalue = ((@$order.$ware.averageprice * 99 / 100) / 1Cr)Cr,
                                $min = (@$order.$ware.minprice / 1Cr)Cr,
                                $max = (@$order.$ware.maxprice / 1Cr)Cr,
                                $step = 1Cr
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'unbundle',
                            $editable = if $order.isparameditable? then $order.isparameditable.unbundle else false,
                            $value = if $order.$unbundle? then $order.$unbundle else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10134}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'gotrade',
                            $editable = if $order.isparameditable? then $order.isparameditable.gotrade else false,
                            $value = if $order.$gotrade? then $order.$gotrade else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'SingleSell'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{141}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{142}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.single.sell'" />
                        <set_value name="$orderInfo.$category"          exact="'trade'" />

                        <append_to_list name="$params" exact="table[ $name = 'ware',
                            $editable = if $order.isparameditable? then $order.isparameditable.ware else false,
                            $value = if $order.$ware? then $order.$ware else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10145},
                            $inputparams = table[ 
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'centerpos',
                            $editable = if $order.isparameditable? then $order.isparameditable.centerpos else false,
                            $value = if $order.$centerpos? then $order.$centerpos else (if @$ship.sector then [@$ship.sector, @$ship.sector.coreposition] else null),
                            $required = true,
                            $advanced = true,
                            $type = 'position',
                            $text = readtext.{1041}.{10085},
                            $inputparams = table[ 
                                $class = class.sector
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'radius',
                            $editable = if $order.isparameditable? then $order.isparameditable.radius else false,
                            $value = if $order.$radius? then $order.$radius else (if @$ship.sector then @$ship.sector.coresize / 2m else null),
                            $required = true,
                            $advanced = true,
                            $type = 'length',
                            $text = readtext.{1041}.{10093},
                            $inputparams = table[ 
                                $min = 0m,
                                $max = @$ship.sector.coresize,
                                $step = 1km
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'locations',
                            $editable = if $order.isparameditable? then $order.isparameditable.locations else false,
                            $value = if $order.$locations? then $order.$locations else ([]),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10049},
                            $inputparams = table[ 
                                $type = 'object',
                                $class = [class.station, class.cluster, class.sector],
                                $hasbuyoffer = @$order.$ware
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxamount',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxamount else false,
                            $value = if $order.$maxamount? then $order.$maxamount else (0),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10165},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = @$ship.cargo.{@$order.$ware}.max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minamount',
                            $editable = if $order.isparameditable? then $order.isparameditable.minamount else false,
                            $value = if $order.$minamount? then $order.$minamount else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10065},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = @$ship.cargo.{@$order.$ware}.max,
                                $step = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pricethreshold',
                            $editable = if $order.isparameditable? then $order.isparameditable.pricethreshold else false,
                            $value = if $order.$pricethreshold? then $order.$pricethreshold else (((@$order.$ware.averageprice * 101 / 100) / 1Cr)Cr),
                            $required = true,
                            $advanced = false,
                            $type = 'money',
                            $text = readtext.{1041}.{10070},
                            $inputparams = table[ 
                                $startvalue = ((@$order.$ware.averageprice * 101 / 100) / 1Cr)Cr,
                                $min = (@$order.$ware.minprice / 1Cr)Cr,
                                $max = (@$order.$ware.maxprice / 1Cr)Cr,
                                $step = 1Cr
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'gotrade',
                            $editable = if $order.isparameditable? then $order.isparameditable.gotrade else false,
                            $value = if $order.$gotrade? then $order.$gotrade else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'salvage',
                            $editable = if $order.isparameditable? then $order.isparameditable.salvage else false,
                            $value = if $order.$salvage? then $order.$salvage else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'SingleTrade'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{131}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{132}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.single'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <append_to_list name="$params" exact="table[ $name = 'ware',
                            $editable = if $order.isparameditable? then $order.isparameditable.ware else false,
                            $value = if $order.$ware? then $order.$ware else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'ware',
                            $text = readtext.{1041}.{10145},
                            $inputparams = table[ 
                                $cancarry = @$ship
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'locations',
                            $editable = if $order.isparameditable? then $order.isparameditable.locations else false,
                            $value = if $order.$locations? then $order.$locations else (if @$ship.sector then [$ship.sector] else []),
                            $required = true,
                            $advanced = false,
                            $type = 'list',
                            $text = readtext.{1041}.{10049},
                            $inputparams = table[ 
                                $type = 'object',
                                $class = [class.station, class.cluster, class.sector]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'maxamount',
                            $editable = if $order.isparameditable? then $order.isparameditable.maxamount else false,
                            $value = if $order.$maxamount? then $order.$maxamount else (@$ship.cargo.capacity.all),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10051},
                            $inputparams = table[ 
                                $startvalue = if $ship then $ship.cargo.capacity.all else 0,
                                $min = 0,
                                $max = if $ship then $ship.cargo.capacity.all else 0,
                                $step = if $ship then $ship.cargo.capacity.all / 10 else 0
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'minamount',
                            $editable = if $order.isparameditable? then $order.isparameditable.minamount else false,
                            $value = if $order.$minamount? then $order.$minamount else (@$ship.cargo.capacity.all),
                            $required = true,
                            $advanced = true,
                            $type = 'number',
                            $text = readtext.{1041}.{10065},
                            $inputparams = table[ 
                                $startvalue = 0,
                                $min = 0,
                                $max = if $ship then $ship.cargo.capacity.all else 0,
                                $step = if $ship then $ship.cargo.capacity.all / 10 else 0
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'pricethreshold',
                            $editable = if $order.isparameditable? then $order.isparameditable.pricethreshold else false,
                            $value = if $order.$pricethreshold? then $order.$pricethreshold else ((@$order.$ware.averageprice / 1Cr)Cr),
                            $required = true,
                            $advanced = false,
                            $type = 'money',
                            $text = readtext.{1041}.{10071},
                            $inputparams = table[ 
                                $startvalue = (@$order.$ware.averageprice / 1Cr)Cr,
                                $min = 0Cr,
                                $max = (@$order.$ware.maxprice / 1Cr)Cr,
                                $step = 1Cr
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'sell',
                            $editable = if $order.isparameditable? then $order.isparameditable.sell else false,
                            $value = if $order.$sell? then $order.$sell else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10111}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'unbundle',
                            $editable = if $order.isparameditable? then $order.isparameditable.unbundle else false,
                            $value = if $order.$unbundle? then $order.$unbundle else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10134}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'gotrade',
                            $editable = if $order.isparameditable? then $order.isparameditable.gotrade else false,
                            $value = if $order.$gotrade? then $order.$gotrade else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TradeExchangeNonShip'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{121}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{122}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.wareexchange.nonship'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'internalorder',
                            $editable = if $order.isparameditable? then $order.isparameditable.internalorder else false,
                            $value = if $order.$internalorder? then $order.$internalorder else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10159}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TradeExchangePassive'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{121}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{122}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.wareexchange.ship.passive'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TradeExchange'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{121}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{122}" />
                        <set_value name="$orderInfo.$script"            exact="'order.trade.wareexchange.ship'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'tradedeal',
                            $editable = if $order.isparameditable? then $order.isparameditable.tradedeal else false,
                            $value = if $order.$tradedeal? then $order.$tradedeal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'trade',
                            $text = readtext.{1041}.{10130},
                            $inputparams = table[ 
                                $playerreadonly = true
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'TransferWorkersRoutine'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{791}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{792}" />
                        <set_value name="$orderInfo.$script"            exact="'order.transferworkers.routine'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />
                        <set_value name="$orderInfo.$infinite"          exact="true" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'targetsector',
                            $editable = if $order.isparameditable? then $order.isparameditable.targetsector else false,
                            $value = if $order.$targetsector? then $order.$targetsector else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'sector',
                            $text = readtext.{1041}.{10117}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_elseif value="$orderid == 'TransferWorkers'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{781}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{782}" />
                        <set_value name="$orderInfo.$script"            exact="'order.transferworkers'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <append_to_list name="$params" exact="table[ $name = 'origin',
                            $editable = if $order.isparameditable? then $order.isparameditable.origin else false,
                            $value = if $order.$origin? then $order.$origin else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10172},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'destination',
                            $editable = if $order.isparameditable? then $order.isparameditable.destination else false,
                            $value = if $order.$destination? then $order.$destination else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'object',
                            $text = readtext.{1041}.{10027},
                            $inputparams = table[ 
                                $class = [class.station]
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'numpeople',
                            $editable = if $order.isparameditable? then $order.isparameditable.numpeople else false,
                            $value = if $order.$numpeople? then $order.$numpeople else (1),
                            $required = true,
                            $advanced = false,
                            $type = 'number',
                            $text = readtext.{1041}.{10173},
                            $inputparams = table[ 
                                $min = 0,
                                $max = if $ship then ($ship.people.free + $ship.people.{entityrole.worker}.count) else 1,
                                $step = 1,
                                $startvalue = 1
                            ]
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'species',
                            $editable = if $order.isparameditable? then $order.isparameditable.species else false,
                            $value = if $order.$species? then $order.$species else (race.argon),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'cannotdock',
                            $editable = if $order.isparameditable? then $order.isparameditable.cannotdock else false,
                            $value = if $order.$cannotdock? then $order.$cannotdock else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = readtext.{1041}.{10133}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'WaitForSignal'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{111}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{112}" />
                        <set_value name="$orderInfo.$script"            exact="'order.wait.signal'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (1h),
                            $required = true,
                            $advanced = false,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 5h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowdocked',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowdocked else false,
                            $value = if $order.$allowdocked? then $order.$allowdocked else (false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10121}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowparked',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowparked else false,
                            $value = if $order.$allowparked? then $order.$allowparked else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'releasesignal',
                            $editable = if $order.isparameditable? then $order.isparameditable.releasesignal else false,
                            $value = if $order.$releasesignal? then $order.$releasesignal else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'signaller',
                            $editable = if $order.isparameditable? then $order.isparameditable.signaller else false,
                            $value = if $order.$signaller? then $order.$signaller else (null),
                            $required = true,
                            $advanced = true,
                            $type = 'object',
                            $text = readtext.{1041}.{10115}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'alignwithecliptic',
                            $editable = if $order.isparameditable? then $order.isparameditable.alignwithecliptic else false,
                            $value = if $order.$alignwithecliptic? then $order.$alignwithecliptic else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'setcritical',
                            $editable = if $order.isparameditable? then $order.isparameditable.setcritical else false,
                            $value = if $order.$setcritical? then $order.$setcritical else (true),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'WaitForVenture'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{751}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{752}" />
                        <set_value name="$orderInfo.$script"            exact="'order.wait.venture'" />
                        <set_value name="$orderInfo.$category"          exact="'internal'" />

                        <append_to_list name="$params" exact="table[ $name = 'ventureplatform',
                            $editable = if $order.isparameditable? then $order.isparameditable.ventureplatform else false,
                            $value = if $order.$ventureplatform? then $order.$ventureplatform else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = 'Venture Platform'
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>
                        
                    </do_elseif>

                    <do_elseif value="$orderid == 'Wait'">

                        <set_value name="$orderInfo.$name"              exact="@readtext.{1041}.{101}" />
                        <set_value name="$orderInfo.$description"       exact="@readtext.{1041}.{102}" />
                        <set_value name="$orderInfo.$script"            exact="'order.wait'" />
                        <set_value name="$orderInfo.$category"          exact="'navigation'" />
                        <set_value name="$orderInfo.$allowinloop"       exact="false" />

                        <append_to_list name="$params" exact="table[ $name = 'timeout',
                            $editable = if $order.isparameditable? then $order.isparameditable.timeout else false,
                            $value = if $order.$timeout? then $order.$timeout else (0s),
                            $required = true,
                            $advanced = false,
                            $type = 'time',
                            $text = readtext.{1041}.{10034},
                            $inputparams = table[ 
                                $min = 0s,
                                $max = 5h,
                                $step = 30s
                            ],
                            $hasinfinitevalue = true
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'allowdocked',
                            $editable = if $order.isparameditable? then $order.isparameditable.allowdocked else false,
                            $value = if $order.$allowdocked? then $order.$allowdocked else (if $ship != null then $isplayerowned and not @$ship.iscapitalship else false),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10121}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'holdfire',
                            $editable = if $order.isparameditable? then $order.isparameditable.holdfire else false,
                            $value = if $order.$holdfire? then $order.$holdfire else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'bool',
                            $text = readtext.{1041}.{10121}
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'noattackresponse',
                            $editable = if $order.isparameditable? then $order.isparameditable.noattackresponse else false,
                            $value = if $order.$noattackresponse? then $order.$noattackresponse else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'attacker',
                            $editable = if $order.isparameditable? then $order.isparameditable.attacker else false,
                            $value = if $order.$attacker? then $order.$attacker else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'skipalignment',
                            $editable = if $order.isparameditable? then $order.isparameditable.skipalignment else false,
                            $value = if $order.$skipalignment? then $order.$skipalignment else (null),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'fidget',
                            $editable = if $order.isparameditable? then $order.isparameditable.fidget else false,
                            $value = if $order.$fidget? then $order.$fidget else (false),
                            $required = true,
                            $advanced = false,
                            $type = 'internal',
                            $text = ''
                        ]"/>
                        <append_to_list name="$params" exact="table[ $name = 'debugchance',
                            $editable = if $order.isparameditable? then $order.isparameditable.debugchance else false,
                            $value = if $order.$debugchance? then $order.$debugchance else (0),
                            $required = true,
                            $advanced = true,
                            $type = 'bool',
                            $text = readtext.{1041}.{10086},
                            $inputparams = table[ $truevalue = 100 ]
                        ]"/>

                    </do_elseif>

                    <do_else comment="id='Wait' ya da uyumsuz id">
                            <!-- bilinmeyen orderı MoveWait ordera dönüştürme işini çağırdığımız yerde yapacağız-->
                        <debug_text text="'md.Upb_Library_Orders.Get_Order_Params() UYUMSUZ ORDER. id = %s . @Fikret'.[$orderid]" />
                    </do_else>

                </do_if>


                <do_if value="$sector == null">
                    <set_value name="$sector" exact="if player.sector then player.sector else player.zone.sector"/>
                    <do_if value="$ship != null">
                        <set_value name="$sector" exact="$ship.sector"/>
                    </do_if>
                </do_if>

                <return value="[$params, $orderInfo, $sector]"/>
            </actions>
        </library>

        <!-- return value= uiorderTable
            verilen sector parametresine MoveWait ordertable üretir-->
        <library name="Create_Order_MoveWait_Table" purpose="run_actions">
            <params>
                <param name="sector" />
            </params>
            <actions>
                <!-- <get_safe_pos result="$pos" sector="$sector" x="0.4km" y="600m" z="2.2km" />-->
                <do_if value="$sector.isclass.sector">
                </do_if>
                <do_elseif value="$sector.sector">
                    <set_value name="$sector"  exact="$sector.sector"/>
                </do_elseif>
                <do_else>
                    <set_value name="$sector"  exact="$sector.zone.sector"/>
                </do_else>
                <set_value name="$destination" exact="[ $sector, $sector.coreposition ]" />

                <set_value name="$orderid" exact="'MoveWait'" />

                <run_actions ref="Get_ConvertedOrderTable" result="$result">
                    <param name="order" value="null" />
                    <param name="orderid" value="$orderid" />
                    <param name="ship" value="null" />
                </run_actions>
                <set_value name="$params" exact="$result.{1}.$params" />
                <set_value name="$orderinfo" exact="$result.{2}" />

                <do_for_each name="$param" in="$params">
                    <do_if value="$param.$name == 'destination' ">
                        <set_value name="$param.$value" exact="$destination" />
                        <break />
                    </do_if>
                </do_for_each>

                <set_value name="$order" exact="table[
                    $id             = $orderid,
                    $name           = $orderinfo.$name,
                    $isinloop       = false,
                    $istemporary    = false,
                    $params         = $params,
                    $requiredskill      = 0,
                    $script             = $orderinfo.$script,
                    $description        = $orderinfo.$description,
                ]" />

                <!-- 
                <set_value name="$order" exact="table[ 
                    $id = 'MoveWait' , 
                    $params = table[ 
                        $destination = [ $sector, $pos],
                        $withdraw = false,
                        $precise = false,
                        $playerprecise = false,
                        $waitforatgate = null,
                        $recallsubordinates = true,
                        $noattackresponse = false,
                        $lookat = null,
                        $fidget = false,
                        $noboost = false,
                        $debugchance = 0
                    ] 
                ]" />
                -->
                <return value="$order"/>
            </actions>
        </library>

        <!-- ship.defaultorder üzerinde editlenecek order parametrelerini verilen ordertable üzerinden günceller-->
        <library name="EditOrderParam" purpose="run_actions">
            <params>
                <param name="ship" />
                <param name="recordedorder" />
                <param name="commander" default="null"/>
            </params>
            <actions>
                <!-- Üretilen gemiye order kaydını hazırladık ancak ticaret vb.. gemilerdeki warebasket gibi propertisi olan orderlar default değerlerle başlayacak 
                    Bu yüzden kayıttaki default harici kullanıcının yaptığı özel değişiklikleri kayıttan aktarıyoruz.
                -->
                <set_value name="$id" exact="$recordedorder.$id" />
                <set_value name="$uiparams" exact="$recordedorder.$params"/>

                <run_actions ref="Convert_UiParams_To_MdParams" result="$mdparams">
                    <param name="uiparams" value="$uiparams" />
                </run_actions>

                <do_if value="($ship.defaultorder.id == $id) and $mdparams.$warebasket_override? and ($mdparams.$warebasket_override.count > 0) ">
                    <edit_order_param order="$ship.defaultorder" param="'warebasket'" value="$mdparams.$warebasket" />
                    <edit_order_param order="$ship.defaultorder" param="'warebasket_override'" value="$mdparams.$warebasket_override" />
                </do_if>

                <run_actions ref="Restore_Param_CommanderValue">
                    <param name="ship" value="$ship" />
                    <param name="uiparams" value="$uiparams" />
                    <param name="commander" value="$commander" />
                </run_actions>

            </actions>
        </library>

        <library name="Restore_Param_CommanderValue" purpose="run_actions">
            <params>
                <param name="ship" />
                <param name="uiparams" />
                <param name="commander" default="null"/>
            </params>
            <actions>
                <set_value name="$commander" exact="if $commander == null then @$ship.commander else $commander"/>
                <do_for_each name="$param" in="$uiparams">
                    <do_if value="$param.$name == 'commander'">
                        <set_value name="$param.$value" exact="$commander" />
                    </do_if>

                    <do_if value="$param.$inputparams.$canbecommanderof?">
                        <set_value name="$param.$inputparams.$canbecommanderof" exact="$ship" />
                        <do_if value="$param.$name == 'target'">
                            <set_value name="$param.$value" exact="$commander" />
                        </do_if>
                    </do_if>

                    <do_if value="$param.$inputparams.$cancarry?">
                        <set_value name="$param.$inputparams.$cancarry" exact="if $param.$inputparams.$cancarry != true then $ship else true" />
                    </do_if>
                </do_for_each>
            
            </actions>
        </library>

        <!-- liste içindeki param bilgilerini, name keyine value değerini eşitleyerek table halinde geri verir-->
        <library name="Convert_UiParams_To_MdParams" purpose="run_actions">
            <params>
                <param name="uiparams" />
            </params>
            <actions>
                <set_value name="$params" exact="table[]"/>
                <do_if value="typeof $uiparams == datatype.list ">
                    <do_for_each name="$param" in="$uiparams" >
                        <do_if value="$param.$name? and $param.$value?">
                            <set_value name="$params.{ '$' + $param.$name }" exact="$param.$value" />
                        </do_if>
                    </do_for_each>
                </do_if>
                <return value="$params" />
            </actions>
        </library>




        <!-- OrderTable yapısındaki defaultorder ve ordersları belirtilen gemiye setler
            IN  :  Set_DefaultorderAndOrdersTable_To_Ship
                    ship            : orderların aktarılacağı obje
                    defaultorder    : ship.defaultorder a aktarılacak order tablosu
                    orders          : ship.orders a aktarılacak liste (default [] )  loop order kaydını aktarmak için
            OUT : none  -->
        <library name="Set_DefaultorderAndOrdersTable_To_Ship" purpose="run_actions">
            <params>
                <param name="ship" />
                <param name="defaultorder" />
                <param name="orders" default="[]" />
                <param name="commander" default="null"/>
            </params>
            <actions>
                <run_actions ref="CreteOrder_To_Ship" result="$result">
                    <param name="ship"          value="$ship"/>
                    <param name="recordedorder" value="$defaultorder" />
                    <param name="default"       value="true" />
                </run_actions>
                <debug_text text="'  Created Default order \'%s\' (result %s)'.[$defaultorder.$id, $result]" chance="0"/>
                
                <!-- Editlenmesi gereken orderları kontrol et ve setle-->
                <run_actions ref="EditOrderParam">
                    <param name="ship" value="$ship" />
                    <param name="commander" value="$commander" />
                    <param name="recordedorder" value="$defaultorder" />
                </run_actions>

                <!-- Ordersları ekleyelim mı-->
                <do_if value="typeof $orders != datatype.list">
                    <set_value name="$orders" exact="[]" />
                </do_if>
                <do_for_each name="$order" in="$orders" counter="$i">
                    <run_actions ref="CreteOrder_To_Ship" result="$result">
                        <param name="ship"          value="$ship"/>
                        <param name="recordedorder" value="$order" />
                        <param name="default"       value="false" />
                    </run_actions>
                    <debug_text text="'    Created order #%s \'%s\' (result %s)'.[$i, $order.$id, $result]" chance="0"/>
                </do_for_each>

            </actions>
        </library>

        <!--
            IN  :   ship            : order oluşturulmak istenen obje
                    recordedorder   : objeye verilecek ordertable
                    default         : verilecek ordertable defaultorder olarak mı verilecek (default true)
            OUT : $result 
                    create_order yapılamazsa false
                                yapılırsa create_order result değeri
        --> 
        <library name="CreteOrder_To_Ship" purpose="run_actions">
            <params>
                <param name="ship" />
                <param name="recordedorder" />
                <param name="default" default="true" />
            </params>
            <actions>
                <set_value name="$result" exact="false"/>
                
                <do_if value="$recordedorder.$id?">
                    <set_value name="$id" exact="$recordedorder.$id" />

                    <run_actions ref="Convert_UiParams_To_MdParams" result="$params">
                        <param name="uiparams" value="$recordedorder.$params" />
                    </run_actions>

                    <do_if value="$id == 'AssignCommander'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="commander" value="$params.$commander" />
                            <param name="assignment" value="$params.$assignment" />
                            <param name="subordinategroup" value="$params.$subordinategroup" />
                            <param name="setgroupassignment" value="$params.$setgroupassignment" />
                            <param name="cancelorders" value="$params.$cancelorders" />
                            <param name="response" value="$params.$response" />
                            <param name="getnewdefaultorder" value="$params.$getnewdefaultorder" />
                            <param name="informfleetmanager" value="$params.$informfleetmanager" />
                            <param name="debugchance" value="$orderT.$debugchance" />
                        </create_order>
                    </do_if>

                    <do_elseif value="$id == 'ProtectSector'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="homeSector" value="$params.$homeSector" />
                            <param name="attackStations" value="$params.$attackStations" />
                            <param name="attackShipsXL" value="$params.$attackShipsXL" />
                            <param name="attackShipsL" value="$params.$attackShipsL" />
                            <param name="attackShipsM" value="$params.$attackShipsM" />
                            <param name="attackShipsS" value="$params.$attackShipsS" />
                            <param name="attackShipsOutOfStationsDistance" value="$params.$attackShipsOutOfStationsDistance" />
                            <param name="attackVisibleOnly" value="$params.$attackVisibleOnly" />
                            <param name="attackHostileOnly" value="$params.$attackHostileOnly" />
                            <param name="protectPlayerShipsInSector" value="$params.$protectPlayerShipsInSector" />
                            <param name="protectOnlyNonMilitaryShips" value="$params.$protectOnlyNonMilitaryShips" />
                            <param name="pursueFleeingTarget" value="$params.$pursueFleeingTarget" />
                            <param name="shareTargetsBetweenFleets" value="$params.$shareTargetsBetweenFleets" />
                            <param name="shieldsPreserveOnFlight" value="$params.$shieldsPreserveOnFlight" />
                            <param name="breakOnDestructionPercentage" value="$params.$breakOnDestructionPercentage" />
                            <param name="parkInCenterOfSector" value="$params.$parkInCenterOfSector" />
                            <param name="delayBetweenScans" value="$params.$delayBetweenScans" />
                            <param name="recordActionsToLogBook" value="$params.$recordActionsToLogBook" />
                            <param name="isStartedByPlayer" value="$params.$isStartedByPlayer" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SectorExplorer'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="fs_usecore" value="$params.$fs_usecore" />
                            <param name="fs_skiphexagon" value="$params.$fs_skiphexagon" />
                            <param name="fs_lockbox" value="$params.$fs_lockbox" />
                            <param name="fs_abandoned" value="$params.$fs_abandoned" />
                            <param name="fs_vaults" value="$params.$fs_vaults" />
                            <param name="fs_continue" value="$params.$fs_continue" />
                            <param name="fs_stations" value="$params.$fs_stations" />
                            <param name="fs_radius" value="$params.$fs_radius" />
                            <param name="fs_delta" value="$params.$fs_delta" />
                            <param name="fs_satscan" value="$params.$fs_satscan" />
                            <param name="fs_reset" value="$params.$fs_reset" />
                            <param name="fs_notify" value="$params.$fs_notify" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'InventoryCollector'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="fs_small_ships" value="$params.$fs_small_ships" />
                            <param name="fs_medium_ships" value="$params.$fs_medium_ships" />
                            <param name="fs_capital_ships" value="$params.$fs_capital_ships" />
                            <param name="fs_globalbl" value="$params.$fs_globalbl" />
                            <param name="fs_blacklist" value="$params.$fs_blacklist" />
                            <param name="fs_deposit_to_hq" value="$params.$fs_deposit_to_hq" />
                            <param name="fs_deposit_to_player" value="$params.$fs_deposit_to_player" />
                            <param name="fs_revisit_interval" value="$params.$fs_revisit_interval" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SectorPatrol'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="fs_space" value="$params.$fs_space" />
                            <param name="fs_attack_stations" value="$params.$fs_attack_stations" />
                            <param name="fs_attack_xl" value="$params.$fs_attack_xl" />
                            <param name="fs_attack_l" value="$params.$fs_attack_l" />
                            <param name="fs_attack_m" value="$params.$fs_attack_m" />
                            <param name="fs_attack_s" value="$params.$fs_attack_s" />
                            <param name="fs_pirates" value="$params.$fs_pirates" />
                            <param name="fs_pursue" value="$params.$fs_pursue" />
                            <param name="fs_noboost" value="$params.$fs_noboost" />
                            <param name="fs_disable" value="$params.$fs_disable" />
                            <param name="fs_park" value="$params.$fs_park" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'ReactionForce'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="homePos" value="$params.$homePos" />
                            <param name="home" value="$params.$home" />
                            <param name="whenIdle" value="$params.$whenIdle" />
                            <param name="assignToHome" value="$params.$assignToHome" />
                            <param name="responseRange" value="$params.$responseRange" />
                            <param name="allowedRisk" value="$params.$allowedRisk" />
                            <param name="shipResponse" value="$params.$shipResponse" />
                            <param name="shipFightResponse" value="$params.$shipFightResponse" />
                            <param name="hpCutoffShipFight" value="$params.$hpCutoffShipFight" />
                            <param name="stationResponse" value="$params.$stationResponse" />
                            <param name="hpCutoffStation" value="$params.$hpCutoffStation" />
                            <param name="def_timeout" value="$params.$def_timeout" />
                            <param name="playerResponse" value="$params.$playerResponse" />
                            <param name="distressResponse" value="$params.$distressResponse" />
                            <param name="notifyMe" value="$params.$notifyMe" />
                            <param name="attS" value="$params.$attS" />
                            <param name="attM" value="$params.$attM" />
                            <param name="attL" value="$params.$attL" />
                            <param name="attXL" value="$params.$attXL" />
                            <param name="reactionSubordinate" value="$params.$reactionSubordinate" />
                            <param name="activeResponse" value="$params.$activeResponse" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DeadTater'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <param name="distancecheck" value="$params.$distancecheck" />
                            <param name="distancecheckpercent" value="$params.$distancecheckpercent" />
                            <param name="preferownfaction" value="$params.$preferownfaction" />
                            <param name="preferownfactionsell" value="$params.$preferownfactionsell" />
                            <param name="preferownfactionbuy" value="$params.$preferownfactionbuy" />
                            <param name="ignoretraderules" value="$params.$ignoretraderules" />
                            <param name="autowares" value="$params.$autowares" />
                            <param name="illegalwares" value="$params.$illegalwares" />
                            <param name="minfill" value="$params.$minfill" />
                            <param name="minfillpercent" value="$params.$minfillpercent" />
                            <param name="ignoreshipbuyers" value="$params.$ignoreshipbuyers" />
                            <param name="enablelogbook" value="$params.$enablelogbook" />
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="transfercreditoption" value="$params.$transfercreditoption" />
                            <param name="usequeue" value="$params.$usequeue" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TaterTrade'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="home" value="$params.$home" />
                            <param name="returnhome" value="$params.$returnhome" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <param name="distancecheck" value="$params.$distancecheck" />
                            <param name="distancecheckpercent" value="$params.$distancecheckpercent" />
                            <param name="discount" value="$params.$discount" />
                            <param name="discount2" value="$params.$discount2" />
                            <param name="bypass" value="$params.$bypass" />
                            <param name="fasttrade" value="$params.$fasttrade" />
                            <param name="stationmode" value="$params.$stationmode" />
                            <param name="blackmarket" value="$params.$blackmarket" />
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="usepresets" value="$params.$usepresets" />
                            <param name="allwares" value="$params.$allwares" />
                            <param name="legalwares" value="$params.$legalwares" />
                            <param name="illegalwares" value="$params.$illegalwares" />
                            <param name="shipbuildingwares" value="$params.$shipbuildingwares" />
                            <param name="stationbuildingwares" value="$params.$stationbuildingwares" />
                            <param name="hightechwares" value="$params.$hightechwares" />
                            <param name="refinedwares" value="$params.$refinedwares" />
                            <param name="biowares" value="$params.$biowares" />
                            <param name="largelegalwares" value="$params.$largelegalwares" />
                            <param name="mediumlegalwares" value="$params.$mediumlegalwares" />
                            <param name="smalllegalwares" value="$params.$smalllegalwares" />
                            <param name="excludedsectors" value="$params.$excludedsectors" />
                            <param name="includedsectors" value="$params.$includedsectors" />
                            <param name="enablebans" value="$params.$enablebans" />
                            <param name="playerban" value="$params.$playerban" />
                            <param name="argonban" value="$params.$argonban" />
                            <param name="antigoneban" value="$params.$antigoneban" />
                            <param name="teladiban" value="$params.$teladiban" />
                            <param name="ministryban" value="$params.$ministryban" />
                            <param name="paranidban" value="$params.$paranidban" />
                            <param name="holyorderban" value="$params.$holyorderban" />
                            <param name="allianceban" value="$params.$allianceban" />
                            <param name="trinityban" value="$params.$trinityban" />
                            <param name="splitban" value="$params.$splitban" />
                            <param name="freesplitban" value="$params.$freesplitban" />
                            <param name="courtban" value="$params.$courtban" />
                            <param name="buccaneersban" value="$params.$buccaneersban" />
                            <param name="fallensplitban" value="$params.$fallensplitban" />
                            <param name="hatikvahban" value="$params.$hatikvahban" />
                            <param name="scaleplateban" value="$params.$scaleplateban" />
                            <param name="pioneersban" value="$params.$pioneersban" />
                            <param name="terranban" value="$params.$terranban" />
                            <param name="scanspeed" value="$params.$scanspeed" />
                            <param name="enablelogbook" value="$params.$enablelogbook" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Assist'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="baseorder" value="$params.$baseorder" />
                            <param name="orderobject" value="$params.$orderobject" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DeployToStation'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="station" value="$params.$station" />
                            <param name="waitduration" value="$params.$waitduration" />
                            <param name="abandonbuildtime" value="$params.$abandonbuildtime" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Equip'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="build" value="$params.$build" />
                            <param name="subordinateorders" value="$params.$subordinateorders" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'FindBuildTasks'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="range" value="$params.$range" />
                            <param name="maxjumps" value="$params.$maxjumps" />
                            <param name="playeronly" value="$params.$playeronly" />
                            <param name="ownfactiononly" value="$params.$ownfactiononly" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Recycle'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="build" value="$params.$build" />
                            <param name="usecover" value="$params.$usecover" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'CollectDeployables'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetlist" value="$params.$targetlist" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'CollectLockbox'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'CollectDropsInRadius'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Collect'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetlist" value="$params.$targetlist" />
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DeployStaticDefenseStrategy'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="staticdefensestrategy" value="$params.$staticdefensestrategy" />
                            <param name="isminesonly" value="$params.$isminesonly" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DeployObjectAtPosition'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="objectstodeploy" value="$params.$objectstodeploy" />
                            <param name="amountstodeploy" value="$params.$amountstodeploy" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DeployObjectsAtGates'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetsector" value="$params.$targetsector" />
                            <param name="deployablecategory" value="$params.$deployablecategory" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Player_DockToTrade'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="waittime" value="$params.$waittime" />
                            <param name="dockfollowers" value="$params.$dockfollowers" />
                            <param name="subordinateorders" value="$params.$subordinateorders" />
                            <param name="dockorder" value="$params.$dockorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DockAndWait'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="building" value="$params.$building" />
                            <param name="trading" value="$params.$trading" />
                            <param name="allowplayeronly" value="$params.$allowplayeronly" />
                            <param name="ventureplatform" value="$params.$ventureplatform" />
                            <!-- <param name="timeout" value="$params.$timeout" /> -->
                            <param name="waittime" value="$params.$waittime" />
                            <param name="dockfollowers" value="$params.$dockfollowers" />
                            <param name="releasesignal" value="$params.$releasesignal" />
                            <param name="subordinateorders" value="$params.$subordinateorders" />
                            <param name="dockorder" value="$params.$dockorder" />
                            <param name="callerid" value="$params.$callerid" />
                            <param name="undockhandler" value="$params.$undockhandler" />
                            <param name="isdockfollower" value="$params.$isdockfollower" />
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="noboost" value="$params.$noboost" />
                            <param name="uselocalhighways" value="$params.$uselocalhighways" />
                            <param name="untilplayerleaves" value="$params.$untilplayerleaves" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DockAt'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="building" value="$params.$building" />
                            <param name="trading" value="$params.$trading" />
                            <param name="allowplayeronly" value="$params.$allowplayeronly" />
                            <param name="ventureplatform" value="$params.$ventureplatform" />
                            <param name="useentrypos" value="$params.$useentrypos" />
                            <param name="dockfollowers" value="$params.$dockfollowers" />
                            <param name="abouttofinish" value="$params.$abouttofinish" />
                            <param name="waittime" value="$params.$waittime" />
                            <param name="store" value="$params.$store" />
                            <param name="dockandwaitid" value="$params.$dockandwaitid" />
                            <param name="callerid" value="$params.$callerid" />
                            <param name="isdockfollower" value="$params.$isdockfollower" />
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="noboost" value="$params.$noboost" />
                            <param name="uselocalhighways" value="$params.$uselocalhighways" />
                            <param name="untilplayerleaves" value="$params.$untilplayerleaves" />
                            <param name="recallsubordinates" value="$params.$recallsubordinates" />
                            <param name="spacesuittransfer" value="$params.$spacesuittransfer" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'AttackInRange'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <param name="pursuetargets" value="$params.$pursuetargets" />
                            <param name="enforceradius" value="$params.$enforceradius" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Attack_Player'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="primarytarget" value="$params.$primarytarget" />
                            <param name="secondarytargets" value="$params.$secondarytargets" />
                            <param name="escort" value="$params.$escort" />
                            <param name="pursuedistance" value="$params.$pursuedistance" />
                            <param name="pursuetargets" value="$params.$pursuetargets" />
                            <param name="allowothertargets" value="$params.$allowothertargets" />
                            <param name="checkrelation" value="$params.$checkrelation" />
                            <param name="disable" value="$params.$disable" />
                            <param name="disablehullpercentagethreshold" value="$params.$disablehullpercentagethreshold" />
                            <param name="disabletargets" value="$params.$disabletargets" />
                            <param name="minrange" value="$params.$minrange" />
                            <param name="maxrange" value="$params.$maxrange" />
                            <param name="maintaindistance" value="$params.$maintaindistance" />
                            <param name="squad_attack" value="$params.$squad_attack" />
                            <param name="boardingbehavior" value="$params.$boardingbehavior" />
                            <param name="behaviortargetclasses" value="$params.$behaviortargetclasses" />
                            <param name="uncover" value="$params.$uncover" />
                            <param name="targetclasses" value="$params.$targetclasses" />
                            <param name="radius" value="$params.$radius" />
                            <param name="radiusanchorpos" value="$params.$radiusanchorpos" />
                            <param name="radiusanchorspace" value="$params.$radiusanchorspace" />
                            <param name="allowboost" value="$params.$allowboost" />
                            <param name="forceprimarytarget" value="$params.$forceprimarytarget" />
                            <param name="enforceradius" value="$params.$enforceradius" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Attack'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="primarytarget" value="$params.$primarytarget" />
                            <param name="secondarytargets" value="$params.$secondarytargets" />
                            <param name="escort" value="$params.$escort" />
                            <param name="pursuedistance" value="$params.$pursuedistance" />
                            <param name="pursuetargets" value="$params.$pursuetargets" />
                            <param name="allowothertargets" value="$params.$allowothertargets" />
                            <param name="checkrelation" value="$params.$checkrelation" />
                            <param name="disable" value="$params.$disable" />
                            <param name="disablehullpercentagethreshold" value="$params.$disablehullpercentagethreshold" />
                            <param name="disabletargets" value="$params.$disabletargets" />
                            <param name="minrange" value="$params.$minrange" />
                            <param name="maxrange" value="$params.$maxrange" />
                            <param name="maintaindistance" value="$params.$maintaindistance" />
                            <param name="squad_attack" value="$params.$squad_attack" />
                            <param name="boardingbehavior" value="$params.$boardingbehavior" />
                            <param name="behaviortargetclasses" value="$params.$behaviortargetclasses" />
                            <param name="uncover" value="$params.$uncover" />
                            <param name="targetclasses" value="$params.$targetclasses" />
                            <param name="radius" value="$params.$radius" />
                            <param name="radiusanchorpos" value="$params.$radiusanchorpos" />
                            <param name="radiusanchorspace" value="$params.$radiusanchorspace" />
                            <param name="allowboost" value="$params.$allowboost" />
                            <param name="forceprimarytarget" value="$params.$forceprimarytarget" />
                            <param name="enforceradius" value="$params.$enforceradius" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Board'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="boardingoperation" value="$params.$boardingoperation" />
                            <param name="pursuedistance" value="$params.$pursuedistance" />
                            <param name="pursuetargets" value="$params.$pursuetargets" />
                            <param name="squad_attack" value="$params.$squad_attack" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Escort'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="formation" value="$params.$formation" />
                            <param name="formationparam" value="$params.$formationparam" />
                            <param name="rollmembers" value="$params.$rollmembers" />
                            <param name="rollformation" value="$params.$rollformation" />
                            <param name="maxshipsperline" value="$params.$maxshipsperline" />
                            <param name="pursuedistance" value="$params.$pursuedistance" />
                            <!-- <param name="timeout" value="$params.$timeout" />  * infinite values cant set to default order-->
                            <param name="overrideformationskill" value="$params.$overrideformationskill" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="releasesignal" value="$params.$releasesignal" />
                            <param name="subordinateorders" value="$params.$subordinateorders" />
                            <param name="endontargetdeath" value="$params.$endontargetdeath" />
                            <param name="thresholdbreak" value="$params.$thresholdbreak" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Lasertower'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Patrol'">
                        <do_if value="@global.$shibimprovedpatrolinstalled">
                            <create_order id="$id" object="$ship" default="$default" name="$result">
                                <param name="space" value="$params.$space" />
                                <param name="shibimprovedpatrol" value="$params.$shibimprovedpatrol" />
                                <param name="range" value="$params.$range" />
                                <param name="pursuetargets" value="$params.$pursuetargets" />
                                <param name="pursuedistance" value="$params.$pursuedistance" />
                                <param name="includeroute" value="$params.$includeroute" />
                                <param name="allowothertargets" value="$params.$allowothertargets" />
                                <param name="targetpurposes" value="$params.$targetpurposes" />
                                <param name="stayinspace" value="$params.$stayinspace" />
                                <param name="usebasket" value="$params.$usebasket" />
                                <param name="engageonlyonline" value="$params.$engageonlyonline" />
                                <param name="targetclasses" value="$params.$targetclasses" />
                                <param name="stayhidden" value="$params.$stayhidden" />
                                <param name="organizesubordinates" value="$params.$organizesubordinates" />
                                <param name="defences_maxgatedistance" value="$params.$defences_maxgatedistance" />
                                <param name="defences_includedassignments" value="$params.$defences_includedassignments" />
                                <param name="checkrelation" value="$params.$checkrelation" />
                                <param name="debugchance" value="$params.$debugchance" />
                            </create_order>
                        </do_if>
                        <do_else>
                            <create_order id="$id" object="$ship" default="$default" name="$result">
                                <param name="space" value="$params.$space" />
                                <param name="range" value="$params.$range" />
                                <param name="pursuetargets" value="$params.$pursuetargets" />
                                <param name="pursuedistance" value="$params.$pursuedistance" />
                                <param name="includeroute" value="$params.$includeroute" />
                                <param name="allowothertargets" value="$params.$allowothertargets" />
                                <param name="targetpurposes" value="$params.$targetpurposes" />
                                <param name="stayinspace" value="$params.$stayinspace" />
                                <param name="usebasket" value="$params.$usebasket" />
                                <param name="engageonlyonline" value="$params.$engageonlyonline" />
                                <param name="targetclasses" value="$params.$targetclasses" />
                                <param name="stayhidden" value="$params.$stayhidden" />
                                <param name="organizesubordinates" value="$params.$organizesubordinates" />
                                <param name="defences_maxgatedistance" value="$params.$defences_maxgatedistance" />
                                <param name="defences_includedassignments" value="$params.$defences_includedassignments" />
                                <param name="checkrelation" value="$params.$checkrelation" />
                                <param name="debugchance" value="$params.$debugchance" />
                            </create_order>
                        </do_else>
                    </do_elseif>

                    <do_elseif value="$id == 'ProtectPosition'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <param name="pursuetargets" value="$params.$pursuetargets" />
                            <param name="attackonsight" value="$params.$attackonsight" />
                            <param name="reinforcefleet" value="$params.$reinforcefleet" />
                            <param name="respondtodistresscalls" value="$params.$respondtodistresscalls" />
                            <param name="resupplyatfleet" value="$params.$resupplyatfleet" />
                            <param name="flagship" value="$params.$flagship" />
                            <!-- <param name="timeout" value="$params.$timeout" />  * infinite values cant set to default order-->
                            <param name="targetclasses" value="$params.$targetclasses" />
                            <param name="enforceradius" value="$params.$enforceradius" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'ProtectShip'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="radius" value="$params.$radius" />
                            <!-- <param name="timeout" value="$params.$timeout" /> -->
                            <param name="pursuedistance" value="$params.$pursuedistance" />
                            <param name="untilclaimed" value="$params.$untilclaimed" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'ProtectStation'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="station" value="$params.$station" />
                            <param name="radius" value="$params.$radius" />
                            <!-- <param name="timeout" value="$params.$timeout" />  * infinite values cant set to default order-->
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TacticalOrder'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="selectedtarget" value="$params.$selectedtarget" />
                            <param name="aggressiveness" value="$params.$aggressiveness" />
                            <param name="weakfirst" value="$params.$weakfirst" />
                            <param name="xdistance" value="$params.$xdistance" />
                            <param name="zdistance" value="$params.$zdistance" />
                            <param name="timeout" value="$params.$timeout" />
                            <param name="releasemove" value="$params.$releasemove" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MiningCollect'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="ware" value="$params.$ware" />
                            <param name="secwares" value="$params.$secwares" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="time_started" value="$params.$time_started" />
                            <param name="debug_eco" value="$params.$debug_eco" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MiningPlayer'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <param name="ware" value="$params.$ware" />
                            <param name="secwares" value="$params.$secwares" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MiningRoutine_Advanced'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <!-- <param name="duration" value="$params.$duration" />   * infinite values cant set to default order-->
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MiningRoutine_Basic'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <!-- <param name="duration" value="$params.$duration" />   * infinite values cant set to default order-->
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MiningRoutine_Expert'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <!-- <param name="duration" value="$params.$duration" />   * infinite values cant set to default order-->
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MiningRoutine'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <param name="deepspace" value="$params.$deepspace" />
                            <param name="resourcescout" value="$params.$resourcescout" />
                            <!-- <param name="duration" value="$params.$duration" />   * infinite values cant set to default order-->
                            <param name="endtime" value="$params.$endtime" />
                            <param name="effectiveskill" value="$params.$effectiveskill" />
                            <param name="preferownspace" value="$params.$preferownspace" />
                            <param name="warebasket_override" value="$params.$warebasket_override" />
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MoveDie'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="mintime" value="$params.$mintime" />
                            <param name="atstation" value="$params.$atstation" />
                            <param name="byhighway" value="$params.$byhighway" />
                            <param name="byhostile" value="$params.$byhostile" />
                            <param name="byidle" value="$params.$byidle" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Follow'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="commandaction" value="$params.$commandaction" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MoveToPlanet'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="direction" value="$params.$direction" />
                            <param name="distance" value="$params.$distance" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Explore'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetspace" value="$params.$targetspace" />
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <param name="timeout" value="$params.$timeout" />
                            <param name="deploysatellites" value="$params.$deploysatellites" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Police'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetspace" value="$params.$targetspace" />
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to default order-->
                            <param name="hq" value="$params.$hq" />
                            <param name="targetclasses" value="$params.$targetclasses" />
                            <param name="targetpurposes" value="$params.$targetpurposes" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="deploysatellites" value="$params.$deploysatellites" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'ExploreUpdate'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetspace" value="$params.$targetspace" />
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to default order-->
                            <param name="targetclasses" value="$params.$targetclasses" />
                            <param name="deploysatellites" value="$params.$deploysatellites" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Recon'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetspace" value="$params.$targetspace" />
                            <param name="radius" value="$params.$radius" />
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to default order-->
                            <param name="hq" value="$params.$hq" />
                            <param name="targetclasses" value="$params.$targetclasses" />
                            <param name="targetpurposes" value="$params.$targetpurposes" />
                            <param name="police" value="$params.$police" />
                            <param name="exploreupdate" value="$params.$exploreupdate" />
                            <param name="resourcescout" value="$params.$resourcescout" />
                            <param name="blindtourist" value="$params.$blindtourist" />
                            <param name="deploysatellites" value="$params.$deploysatellites" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Taxi'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MoveToObject'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to default order-->
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="fidget" value="$params.$fidget" />
                            <param name="joinfleet" value="$params.$joinfleet" />
                            <param name="stopondetect" value="$params.$stopondetect" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'MoveWait'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to default order-->
                            <param name="withdraw" value="$params.$withdraw" />
                            <param name="precise" value="$params.$precise" />
                            <param name="playerprecise" value="$params.$playerprecise" />
                            <param name="waitforatgate" value="$params.$waitforatgate" />
                            <param name="recallsubordinates" value="$params.$recallsubordinates" />
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="lookat" value="$params.$lookat" />
                            <param name="fidget" value="$params.$fidget" />
                            <param name="noboost" value="$params.$noboost" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'PlayerAttack'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="secondarytargets" value="$params.$secondarytargets" />
                            <param name="escort" value="$params.$escort" />
                            <param name="squad_attack" value="$params.$squad_attack" />
                            <param name="allowothertargets" value="$params.$allowothertargets" />
                            <param name="checkrelation" value="$params.$checkrelation" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Plunder'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="space" value="$params.$space" />
                            <param name="base" value="$params.$base" />
                            <param name="returntobase" value="$params.$returntobase" />
                            <param name="findbaseowner" value="$params.$findbaseowner" />
                            <param name="basebasket" value="$params.$basebasket" />
                            <param name="forcetransfer" value="$params.$forcetransfer" />
                            <param name="deepspace" value="$params.$deepspace" />
                            <param name="checkrelation" value="$params.$checkrelation" />
                            <param name="plundermode" value="$params.$plundermode" />
                            <param name="range_internal" value="$params.$range_internal" />
                            <param name="target" value="$params.$target" />
                            <param name="module" value="$params.$module" />
                            <param name="movetomodule" value="$params.$movetomodule" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'RecallSubordinates'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="timeout" value="$params.$timeout" />
                            <param name="activepatrol" value="$params.$activepatrol" />
                            <param name="destination" value="$params.$destination" />
                            <param name="safetodockat" value="$params.$safetodockat" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'RecycleDefault'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="preferredstation" value="$params.$preferredstation" />
                            <param name="stationstoavoid" value="$params.$stationstoavoid" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Repair'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="hullpercent" value="$params.$hullpercent" />
                            <param name="damagedcomponents" value="$params.$damagedcomponents" />
                            <param name="repairall" value="$params.$repairall" />
                            <param name="acceptedcost" value="$params.$acceptedcost" />
                            <param name="urgent" value="$params.$urgent" />
                            <param name="blacklist_stations" value="$params.$blacklist_stations" />
                            <param name="subordinaterepairorders" value="$params.$subordinaterepairorders" />
                            <param name="subordinateorders" value="$params.$subordinateorders" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'RescueInRange'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="radius" value="$params.$radius" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'RescueShip'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'GetSupplies'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="maxsearchrange" value="$params.$maxsearchrange" />
                            <param name="anchorsector" value="$params.$anchorsector" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'RestockSubordinates'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="init" value="$params.$init" />
                            <param name="jumps" value="$params.$jumps" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Resupply'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="repair" value="$params.$repair" />
                            <param name="hullpercent" value="$params.$hullpercent" />
                            <param name="damagedcomponents" value="$params.$damagedcomponents" />
                            <param name="repairall" value="$params.$repairall" />
                            <param name="repaircost" value="$params.$repaircost" />
                            <param name="resupply_ammo" value="$params.$resupply_ammo" />
                            <param name="resupply_units" value="$params.$resupply_units" />
                            <param name="restock_subordinates" value="$params.$restock_subordinates" />
                            <param name="param_station" value="$params.$param_station" />
                            <param name="urgent" value="$params.$urgent" />
                            <param name="blacklist_stations" value="$params.$blacklist_stations" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="onlyuseresupplierships" value="$params.$onlyuseresupplierships" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SalvageCollect'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SalvageCrush'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SalvageDeliver_NoTrade'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SalvageDeliver'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="destination" value="$params.$destination" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SalvageInRadius'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="radius" value="$params.$radius" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SalvageRoutine'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="anchorspace" value="$params.$anchorspace" />
                            <param name="range" value="$params.$range" />
                            <!-- <param name="duration" value="$params.$duration" />    * infinite values cant set to default order-->
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SupplyFleet'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="target" value="$params.$target" />
                            <param name="destination" value="$params.$destination" />
                            <param name="formation" value="$params.$formation" />
                            <param name="formationparam" value="$params.$formationparam" />
                            <param name="rollmembers" value="$params.$rollmembers" />
                            <param name="rollformation" value="$params.$rollformation" />
                            <param name="maxshipsperline" value="$params.$maxshipsperline" />
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to default order-->
                            <param name="overrideformationskill" value="$params.$overrideformationskill" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="releasesignal" value="$params.$releasesignal" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'CrewExchangePassive'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="overridepassive" value="$params.$overridepassive" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'CrewExchange'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="overridepassive" value="$params.$overridepassive" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'DepositInventory'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="destination" value="$params.$destination" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Middleman'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="anchorspace" value="$params.$anchorspace" />
                            <param name="range" value="$params.$range" />
                            <param name="tradeware" value="$params.$tradeware" />
                            <param name="relprice_purchase" value="$params.$relprice_purchase" />
                            <param name="supplier" value="$params.$supplier" />
                            <!-- <param name="duration" value="$params.$duration" />    * infinite values cant set to default order-->
                            <param name="endtime" value="$params.$endtime" />
                            <param name="aggressiveness" value="$params.$aggressiveness" />
                            <param name="holdbuyprice" value="$params.$holdbuyprice" />
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradePerform'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradeRoutine_Advanced'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <!-- <param name="duration" value="$params.$duration" />    * infinite values cant set to default order-->
                            <param name="tradeforbuildstorage" value="$params.$tradeforbuildstorage" />
                            <param name="usecover" value="$params.$usecover" />
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradeRoutine_Basic'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <!-- <param name="duration" value="$params.$duration" />    * infinite values cant set to default order-->
                            <param name="tradeforbuildstorage" value="$params.$tradeforbuildstorage" />
                            <param name="usecover" value="$params.$usecover" />
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradeRoutine'">
                        
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="warebasket" value="$params.$warebasket" />
                            <param name="range" value="$params.$range" />
                            <param name="minbuy" value="$params.$minbuy" />
                            <param name="maxbuy" value="$params.$maxbuy" />
                            <param name="minsell" value="$params.$minsell" />
                            <param name="maxsell" value="$params.$maxsell" />
                            <!-- <param name="duration" value="$params.$duration" />    * infinite values cant set to default order-->
                            <param name="endtime" value="$params.$endtime" />
                            <param name="tradeforbuildstorage" value="$params.$tradeforbuildstorage" />
                            <param name="usecover" value="$params.$usecover" />
                            <param name="preferredcoverfactions" value="$params.$preferredcoverfactions" />
                            <param name="buyfromfactions" value="$params.$buyfromfactions" />
                            <param name="selltofactions" value="$params.$selltofactions" />
                            <param name="warebasket_override" value="$params.$warebasket_override" />
                            <param name="debugchance" value="$params.$debugchance" />
                            <param name="debugchance2" value="$params.$debugchance2" />
                        </create_order>

                    </do_elseif>

                    <do_elseif value="$id == 'SingleBuy'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="ware" value="$params.$ware" />
                            <param name="centerpos" value="$params.$centerpos" />
                            <param name="radius" value="$params.$radius" />
                            <param name="locations" value="$params.$locations" />
                            <param name="maxamount" value="$params.$maxamount" />
                            <param name="minamount" value="$params.$minamount" />
                            <param name="pricethreshold" value="$params.$pricethreshold" />
                            <param name="unbundle" value="$params.$unbundle" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="gotrade" value="$params.$gotrade" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SingleSell'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="ware" value="$params.$ware" />
                            <param name="centerpos" value="$params.$centerpos" />
                            <param name="radius" value="$params.$radius" />
                            <param name="locations" value="$params.$locations" />
                            <param name="maxamount" value="$params.$maxamount" />
                            <param name="minamount" value="$params.$minamount" />
                            <param name="pricethreshold" value="$params.$pricethreshold" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="gotrade" value="$params.$gotrade" />
                            <param name="salvage" value="$params.$salvage" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'SingleTrade'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="ware" value="$params.$ware" />
                            <param name="locations" value="$params.$locations" />
                            <param name="maxamount" value="$params.$maxamount" />
                            <param name="minamount" value="$params.$minamount" />
                            <param name="pricethreshold" value="$params.$pricethreshold" />
                            <param name="sell" value="$params.$sell" />
                            <param name="unbundle" value="$params.$unbundle" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="gotrade" value="$params.$gotrade" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradeExchangeNonShip'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="internalorder" value="$params.$internalorder" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradeExchangePassive'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TradeExchange'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="tradedeal" value="$params.$tradedeal" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TransferWorkersRoutine'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="targetsector" value="$params.$targetsector" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'TransferWorkers'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="origin" value="$params.$origin" />
                            <param name="destination" value="$params.$destination" />
                            <param name="numpeople" value="$params.$numpeople" />
                            <param name="species" value="$params.$species" />
                            <param name="cannotdock" value="$params.$cannotdock" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'WaitForSignal'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <!-- <param name="timeout" value="$params.$timeout" />    * infinite values cant set to defaultorder-->
                            <param name="allowdocked" value="$params.$allowdocked" />
                            <param name="allowparked" value="$params.$allowparked" />
                            <param name="releasesignal" value="$params.$releasesignal" />
                            <param name="signaller" value="$params.$signaller" />
                            <param name="alignwithecliptic" value="$params.$alignwithecliptic" />
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="setcritical" value="$params.$setcritical" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'WaitForVenture'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="ventureplatform" value="$params.$ventureplatform" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_elseif value="$id == 'Wait'">
                        <create_order id="$id" object="$ship" default="$default" name="$result">
                            <param name="allowdocked" value="$params.$allowdocked" />
                            <param name="holdfire" value="$params.$holdfire" />
                            <param name="noattackresponse" value="$params.$noattackresponse" />
                            <param name="attacker" value="$params.$attacker" />
                            <param name="skipalignment" value="$params.$skipalignment" />
                            <param name="fidget" value="$params.$fidget" />
                            <param name="debugchance" value="$params.$debugchance" />
                        </create_order>
                    </do_elseif>

                    <do_else>
                        <debug_text text="'  Unknown order %s - %s %s - $recordedorder = %s [@Fikret]'.[$id, $ship.knownname, $ship.idcode, $recordedorder]" />
                    </do_else>
                </do_if>
                <do_else>
                    <debug_text text="'  ATTENTION. MISSMATCH order parameter. $recordedorder = %s , %s %s [@Fikret]'.[$recordedorder, $ship.knownname, $ship.idcode]" />
                </do_else>
                <return value="$result"/>
            </actions>
        </library>


	</cues>

</mdscript>
