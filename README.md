# Русификация модов для X4: Foundations (сборка RE 1.88 HF4 / 7.60)

Проект для перевода и нормализации контента модов X4 на русский язык. Источник модов: распакованные каталоги в `extensions/`. Целевая сборка: «Сборка модов на основе RE 1.88 HF4 (7.60).rar».

## Структура
- `extensions/` — каталоги модов (распакованные). В репозитории хранятся только текстовые файлы (XML и др.), тяжёлые ассеты игнорируются `.gitignore`.
- `ru_translation/` — утилиты для автоправки и проверки перевода.
- `scripts/` — сценарии запуска типовых операций.

## Утилиты
- `ru_translation/fix_english_content.py` — исправляет `content.xml` в модах: переносит корректные RU-имя/описание, убирает плейсхолдеры `ReadText` и числовые заглушки.
- `ru_translation/check_translation_completeness.py` — проверка полноты перевода по всем модам.
- `ru_translation/scan_readtext.py` — поиск любых вхождений `ReadText` в `*.xml`.
- `ru_translation/sync_t_files.py` — синхронизация `0001-l007.xml` (RU) с источником `0001-l033.xml`/`0001.xml` (EN) для модов KUDA/kuertee и др. Заполняет недостающие ID, чтобы избежать `ReadText` в UI.

## Быстрый старт
Требуется Python 3.10+.

1) Установите зависимости (если появятся):
```
pip install -r requirements.txt
```

2) Запустите типовой цикл правок и проверки:
```
# PowerShell
./scripts/run_all.ps1
```
Сценарий выполнит:
- синхронизацию t-файлов (устранение `ReadText` из-за отсутствующих ID),
- автоправку `content.xml`,
- проверку полноты перевода,
- сканирование `ReadText` по всем XML.

## Принципы
- Не коммитим тяжёлые ассеты (`.cat/.dat`, `assets/`, `sfx/`, `previews/`, изображения, аудио) — чтобы репозиторий оставался лёгким.
- Исправления в t-файлах выполняются через выравнивание русских ID с английским источником; при отсутствии перевода подставляется EN-текст, чтобы в игре не было `ReadText`.

## Типичные проблемы и решения
- `ReadText…` в UI: запустите `sync_t_files.py` для целевых модов (KUDA/kuertee и т.п.). Проверьте, что `page id` в `*-l007.xml` совпадает с источником (пример: `kuertee_ui_extensions/t/0001-l007.xml` должен иметь `page id="101475"`).
- Английские описания/заглушки в `content.xml`: запустите `fix_english_content.py` — он подставит корректные RU значения или очистит плейсхолдеры.

## Лицензия
Только для локализации и совместимости. Уважайте лицензии авторов модов.
